<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on 馬丁沒有派對</title>
    <link>https://blog.ooopiz.com/post/</link>
    <description>Recent content in Posts on 馬丁沒有派對</description>
    <image>
      <title>馬丁沒有派對</title>
      <url>https://blog.ooopiz.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://blog.ooopiz.com/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- 0.139.2</generator>
    <language>en</language>
    <lastBuildDate>Wed, 11 Dec 2024 14:22:51 +0800</lastBuildDate>
    <atom:link href="https://blog.ooopiz.com/post/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Nginx Upstream 嘗試請求，重試請求</title>
      <link>https://blog.ooopiz.com/post/2024/12/nginx-upstream-tries-retries/</link>
      <pubDate>Wed, 11 Dec 2024 14:22:51 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2024/12/nginx-upstream-tries-retries/</guid>
      <description>&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;http {
  upstream  ups {
      server 192.168.1.1   max_fails=1  fail_timeout=10s;
      server 192.168.1.2   max_fails=1  fail_timeout=10s;
      server 192.168.1.3   max_fails=1  fail_timeout=10s;
      keepalive 1000;
  }

  server {
    listen       80;
    server_name  _;

    location / {
        proxy_next_upstream error timeout;
        proxy_next_upstream_tries 0;
        proxy_pass http://ups; 
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;配置說明&#34;&gt;配置說明&lt;/h2&gt;
&lt;h3 id=&#34;max_fails1-fail_timeout10s&#34;&gt;max_fails=1 fail_timeout=10s&lt;/h3&gt;
&lt;p&gt;每 10 秒計數到一次失敗，節點判定為壞點 10秒鐘
以此類推
當 max_fails=0 時，停用失敗計數器，即永遠不會判定壞點&lt;/p&gt;
&lt;h3 id=&#34;proxy_next_upstream-error-timeout&#34;&gt;proxy_next_upstream error timeout&lt;/h3&gt;
&lt;p&gt;那些請求狀態會被判定失敗，計算到 max_fails 的計數器&lt;/p&gt;
&lt;p&gt;可選的項目有：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;error&lt;/li&gt;
&lt;li&gt;timeout&lt;/li&gt;
&lt;li&gt;invalid_header&lt;/li&gt;
&lt;li&gt;http_500&lt;/li&gt;
&lt;li&gt;http_502&lt;/li&gt;
&lt;li&gt;http_503&lt;/li&gt;
&lt;li&gt;http_504&lt;/li&gt;
&lt;li&gt;http_403&lt;/li&gt;
&lt;li&gt;http_404&lt;/li&gt;
&lt;li&gt;http_429&lt;/li&gt;
&lt;li&gt;non_idempotent&lt;/li&gt;
&lt;li&gt;off&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;proxy_next_upstream_tries-0&#34;&gt;proxy_next_upstream_tries 0&lt;/h3&gt;
&lt;p&gt;upstream servers 嘗試請求的次數&lt;/p&gt;</description>
    </item>
    <item>
      <title>Vscode terminal ctrl &#43; p 關閉 quckopen</title>
      <link>https://blog.ooopiz.com/post/2024/11/vscode-disable-quickopen/</link>
      <pubDate>Mon, 18 Nov 2024 14:23:30 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2024/11/vscode-disable-quickopen/</guid>
      <description>&lt;h2 id=&#34;vscode-terminal-control--p-無法切換前一個命令&#34;&gt;Vscode Terminal control + p 無法切換前一個命令&lt;/h2&gt;
&lt;p&gt;常用的 terminal 工具原始設定使用 ctrl + p 熱鍵，切換到上一個命令。&lt;br&gt;
但在 vsocde 裡的 terminal 會變成 quick open&lt;/p&gt;
&lt;p&gt;如果想讓熱鍵可以是切到上一個命令可調整&lt;/p&gt;
&lt;p&gt;Preferences &amp;gt; Setting &amp;gt; 搜尋框輸入 &lt;code&gt;terminal.intergrated.commandToSkipShell&lt;/code&gt; &amp;gt; Add item &lt;code&gt;-workbench.action.quickOpen&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;vscode -workbench.action.quickOpen&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2024/11/a001.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Loki 使用 Ruler&#39;s Record Data 處理大量日誌統計</title>
      <link>https://blog.ooopiz.com/post/2023/10/loki-ruler-record-data/</link>
      <pubDate>Tue, 31 Oct 2023 17:37:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2023/10/loki-ruler-record-data/</guid>
      <description>&lt;h2 id=&#34;loki-環境說明&#34;&gt;Loki 環境說明&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Loki 版本 2.9.2&lt;/li&gt;
&lt;li&gt;Loki 使用 3台 Monolithic mode 的 cluster&lt;/li&gt;
&lt;li&gt;ring kvstore 使用 memberlist&lt;/li&gt;
&lt;li&gt;Storage 在 AWS S3&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;情境說明&#34;&gt;情境說明&lt;/h2&gt;
&lt;p&gt;目前使用 Loki 記錄 nginx 的訪問日誌，
日誌有點份量之後，Loki 原生的統計函數變得相當吃緊，查詢請求動不動就跑到 CPU 100% 然後 timeout。&lt;/p&gt;
&lt;p&gt;嘗試過將機器規格提升到兩台 32 core 的機器，雖然可以感覺到查詢速度有變快，但效果還是非常不理想。
沒人查詢時基本上 CPU 也是整個空閒，相當的浪費資源。&lt;/p&gt;
&lt;p&gt;官方文件上有看到 record data 的做法。
基本上是利用 ruler 模組，定期執行統計，記錄到 prometheus 或其它支援的 storage，不用每次都跑一堆計算，可以改拉 prometheus 預算好的資料。&lt;/p&gt;
&lt;p&gt;下圖取自 record data 後拉取的資料 (24小時有 272M筆訪問記錄，284GB)&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;dashboard&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2023/10/a001.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;ruler&#34;&gt;Ruler&lt;/h2&gt;
&lt;p&gt;單機的 Loki 你可以將 rule 規則存放在 Disk 中，直接編輯，&lt;br&gt;
如果是 cluster 可以啟用 rule api 來管理規則，將規則存放到類似 S3 的 storage 供每個節點存取。&lt;br&gt;
(下述的範例以 cluster 為原則)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Windows rsync (cwRsync) 權限排序不正確</title>
      <link>https://blog.ooopiz.com/post/2023/05/windows-cwrsync-permission/</link>
      <pubDate>Wed, 03 May 2023 11:27:28 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2023/05/windows-cwrsync-permission/</guid>
      <description>&lt;h2 id=&#34;windows-使用-rsync-引發的權限問題&#34;&gt;Windows 使用 rsync 引發的權限問題&lt;/h2&gt;
&lt;p&gt;如果你在 Linux 上使用過 rsync 指令，多少需要瞭解一下檔案權限的問題。&lt;/p&gt;
&lt;p&gt;在 Windows 上 Rsync，可以透過一些模擬 Linux API 的指令來實現&lt;br&gt;
這裡用到的是 cwRsync，可以到官網下載 rsync client 純指令版&lt;br&gt;
(rsync-client 是 free 的，其它有些東西可能需要付費，看自己的需求)&lt;/p&gt;
&lt;p&gt;這裡列舉幾個我自己在 Windows 上遇到的權限問題&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;rsync 後的檔案或資料夾，無法開啟或刪除檔案&lt;/li&gt;
&lt;li&gt;資料夾安全性顯示 &lt;strong&gt;權限排序不正確&lt;/strong&gt; 跟 &lt;strong&gt;null sid&lt;/strong&gt;
&lt;ul&gt;
&lt;li&gt;&lt;img alt=&#34;權限排序不正確&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2023/05/a001.png&#34;&gt;&lt;/li&gt;
&lt;li&gt;&lt;img alt=&#34;null sid&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2023/05/a002.png&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;權限問題處理&#34;&gt;權限問題處理&lt;/h2&gt;
&lt;h3 id=&#34;1-無法開啟或刪除資料夾&#34;&gt;1. 無法開啟或刪除資料夾&lt;/h3&gt;
&lt;p&gt;可以試著在執行 rsync 指令時加上參數 &lt;code&gt;--chmod=ugo=rwX -r&lt;/code&gt; 來改變檔案的權限&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rsync -avz --chmod=ugo=rwX -r &amp;lt;source&amp;gt; &amp;lt;destination&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-資料夾安全性顯示-權限排序不正確-跟-null-sid&#34;&gt;2. 資料夾安全性顯示 權限排序不正確 跟 null sid&lt;/h3&gt;
&lt;p&gt;如果權限排序不正確，可以試著在 cwrsync/etc 底下加入 fstab 檔，&lt;br&gt;
設定 &lt;code&gt;noacl&lt;/code&gt; 來排除，具體可以參考 refer 連結，範例如下:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# /etc/fstab

none /cygdrive cygdrive binary,noacl,posix=0,user 0 0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;fatab 放置路徑&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2023/05/a004.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Windows OS cd 指令，你應該注意的事 (device 切換)</title>
      <link>https://blog.ooopiz.com/post/2023/04/windows-cd-command-notice/</link>
      <pubDate>Mon, 17 Apr 2023 10:40:46 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2023/04/windows-cd-command-notice/</guid>
      <description>&lt;h2 id=&#34;場景&#34;&gt;場景&lt;/h2&gt;
&lt;p&gt;事情是這樣的，&lt;br&gt;
某天我弄了一個 windows 的 bat 檔，預計使用 rsync 將檔案同步到 windows 本地目錄。&lt;br&gt;
於是搞了個腳本，類似這樣，&lt;br&gt;
dirpath 則以環境變數的方式代入。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bat&#34; data-lang=&#34;bat&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%dirpath%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rsync --delete remote local
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;想了想，&lt;br&gt;
如果前面程序如果失敗，沒有將 dirpath 建立出來，&lt;br&gt;
我這個 rsync &amp;ndash;delete 就可怕了，於是加了一行判斷 cd 失敗就終止。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bat&#34; data-lang=&#34;bat&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%dirpath%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%ERRORLEVEL%&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;NEQ&lt;/span&gt; 0 &lt;span class=&#34;k&#34;&gt;exit&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;%ERRORLEVEL%&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rsync --delete remote local
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;本機測試完後，開開心心的到其它機器去測試。&lt;br&gt;
結果開始噴 rsync delete 一些奇奇怪怪的檔案。&lt;br&gt;
我心裡想 cd 失敗的話，&lt;br&gt;
沒有 pathdir 不是應該會退出程序嗎?&lt;/p&gt;
&lt;p&gt;細查後 dirpath 資料夾也有正常建立，&lt;br&gt;
為什麼 cd 不成功也沒有 return error code 呢?&lt;/p&gt;
&lt;h2 id=&#34;實測&#34;&gt;實測&lt;/h2&gt;
&lt;p&gt;原因是我自己電腦上測試的時候都在 c 碟上面進行，&lt;br&gt;
當涉及 device (c, d 碟) 切換的時候， cd 指令並不會成功。&lt;br&gt;
如果路徑確實存在也不會報錯。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Systemd Timer 執行秒級排程，可替代 crontab</title>
      <link>https://blog.ooopiz.com/post/2023/04/systemd-timer-instead-of-crontab/</link>
      <pubDate>Sat, 15 Apr 2023 00:39:44 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2023/04/systemd-timer-instead-of-crontab/</guid>
      <description>&lt;h2 id=&#34;crontab-每-30-秒執行&#34;&gt;crontab 每 30 秒執行&lt;/h2&gt;
&lt;p&gt;大家應該都有用過 crontab 的經驗吧？&lt;br&gt;
crontab 每次執行的最小單位就是分鐘，如果遇到秒級需求的任務排程。&lt;br&gt;
很常見到類似底下的 crontab 的設定。&lt;/p&gt;
&lt;p&gt;設定上相當方便，不過我們可以認識一下另一種 systemd timer 的作法。&lt;br&gt;
或是你可以想像一下，如果 5秒要執行一次，crontab 會長什麼樣子。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* * * * *  dosomething
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* * * * *  sleep 30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; dosomething
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;systemd-timer-特點&#34;&gt;systemd timer 特點&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;使用 timer 來執行 service，可以避免上一個任務還沒進行完，又開始一個新的任務。&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;systemd-timer&#34;&gt;systemd timer&lt;/h2&gt;
&lt;h3 id=&#34;jobqueueservice--systemd-service-file&#34;&gt;jobqueue.service / systemd service file&lt;/h3&gt;
&lt;p&gt;建立一個 jobqueue.service 設定檔，內容如下:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[Unit]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Execute jobqueue&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[Service]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;simple&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/bin/bash -c &amp;#39;/usr/bin/date &amp;gt;&amp;gt; /tmp/date.log&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建立完成後重載一下 &lt;code&gt;systemctl daemon-reload&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;接著當你執行 &lt;code&gt;systemctl start jobqueue.service&lt;/code&gt; 時，就會執行一次 ExecStart 的命令&lt;/p&gt;</description>
    </item>
    <item>
      <title>Grafana 備份工具 - grafana-backup-tool</title>
      <link>https://blog.ooopiz.com/post/2021/04/try-grafana-backup-tool/</link>
      <pubDate>Thu, 01 Apr 2021 01:02:25 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2021/04/try-grafana-backup-tool/</guid>
      <description>&lt;h2 id=&#34;説明&#34;&gt;説明&lt;/h2&gt;
&lt;p&gt;最近剛好要做 Grafana 的資料遷移，&lt;br&gt;
理論上遷移時將 grafana 的 sqlite 一起搬過去應該是沒問題，&lt;br&gt;
但牽涉到版本升級，有點不確定性。&lt;br&gt;
剛好看到一個不錯的工具 grafana-backup-tool，是透過 api 的方式進行備份還原，&lt;br&gt;
正好試用看看，平常備份也可以使用。&lt;/p&gt;
&lt;h2 id=&#34;情境&#34;&gt;情境&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Grafana 資料遷移 - 域名為假設域名
&lt;ul&gt;
&lt;li&gt;原站 - &lt;a href=&#34;http://grafana.example.com&#34; target=&#34;_blank&#34; &gt;http://grafana.example.com&lt;/a&gt; (version: 6.4.3)&lt;/li&gt;
&lt;li&gt;新站 - &lt;a href=&#34;http://new.grafana.example.com&#34; target=&#34;_blank&#34; &gt;http://new.grafana.example.com&lt;/a&gt; (version: 7.3.4)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;步驟&#34;&gt;步驟&lt;/h2&gt;
&lt;h3 id=&#34;一-安裝-grafana-backup-tool&#34;&gt;一. 安裝 grafana-backup-tool&lt;/h3&gt;
&lt;p&gt;隨便找一台可以訪問到 Grafana site 的 Linux&lt;/p&gt;
&lt;p&gt;&lt;code&gt;pip install grafana-backup&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;二-建立-api-token&#34;&gt;二. 建立 API Token&lt;/h3&gt;
&lt;p&gt;在要備份 與 要還原的 Grafana 都建立 API KEY&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;api key&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/b001.jpg&#34;&gt;
&lt;img alt=&#34;api key&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/b002.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;三-設定檔&#34;&gt;三. 設定檔&lt;/h3&gt;
&lt;p&gt;建立備份目標的設定檔 grafana.json (token 填入上方所建立的)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{
  &amp;#34;grafana&amp;#34;: {
    &amp;#34;url&amp;#34;: &amp;#34;http://grafana.example.com&amp;#34;,
    &amp;#34;token&amp;#34;: &amp;#34;{YOUR_GRAFANA_TOKEN}&amp;#34;,
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;建立還原目標的設定檔 grafana-new.json (token 填入上方所建立的)&lt;/p&gt;</description>
    </item>
    <item>
      <title>Windows 10 設定好用的拼音輸入法</title>
      <link>https://blog.ooopiz.com/post/2021/03/windows10-nice-use-pinyin/</link>
      <pubDate>Fri, 26 Mar 2021 20:50:49 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2021/03/windows10-nice-use-pinyin/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;已經好幾年沒使用 Windows 電腦工作了，筆者目前公司工作機又是 Windows OS。&lt;br&gt;
一直沒有在 Windows 上找到好用的拼音輸入法，需要中文輸入的時候整個手殘(兩年前嘗試用拼音輸入法取代注音，我現在連注音都打不好了 XD)&lt;br&gt;
總之前幾天發現了像在 Mac 上一樣好用的拼音輸入法，&lt;br&gt;
跟大家分享一下，如果你剛好需要的話。&lt;/p&gt;
&lt;h2 id=&#34;微軟注音的拼音輸入法-對比-微軟拼音的拼音輸入法&#34;&gt;微軟注音的拼音輸入法 對比 微軟拼音的拼音輸入法&lt;/h2&gt;
&lt;p&gt;標題很繞口我知道，不過不是很重要。。。&lt;/p&gt;
&lt;h3 id=&#34;微軟注音-的拼音輸入法-示意&#34;&gt;&lt;em&gt;&lt;strong&gt;微軟注音&lt;/strong&gt;&lt;/em&gt; 的拼音輸入法 示意&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a001.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;微軟拼音-的拼音輸入法-示意&#34;&gt;&lt;em&gt;&lt;strong&gt;微軟拼音&lt;/strong&gt;&lt;/em&gt; 的拼音輸入法 示意&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a002.jpg&#34;&gt;
&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a003.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;功能比較&#34;&gt;功能比較&lt;/h2&gt;
&lt;h3 id=&#34;微軟注音-的拼音輸入法&#34;&gt;&lt;em&gt;&lt;strong&gt;微軟注音&lt;/strong&gt;&lt;/em&gt; 的拼音輸入法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;選字很難選&lt;/li&gt;
&lt;li&gt;無法拼音校正&lt;/li&gt;
&lt;li&gt;按 Enter 確定&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;微軟拼音-的拼音輸入法&#34;&gt;&lt;em&gt;&lt;strong&gt;微軟拼音&lt;/strong&gt;&lt;/em&gt; 的拼音輸入法&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;按空白鍵確定&lt;/li&gt;
&lt;li&gt;使用 [ 跟 ] 符號切換待選字 (比上下鍵方便很多)&lt;/li&gt;
&lt;li&gt;可連續輸入很多字再空白鍵確定&lt;/li&gt;
&lt;li&gt;可以中英文混打，不需切換輸入法&lt;/li&gt;
&lt;li&gt;可以輸入頭一個字碼，組合出句子&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;設定方式&#34;&gt;設定方式&lt;/h2&gt;
&lt;h3 id=&#34;微軟注音--漢語拼音&#34;&gt;微軟注音 &amp;gt; 漢語拼音&lt;/h3&gt;
&lt;p&gt;原本的微軟注音的拼音輸入法應該是這樣設定&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a011.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;微軟拼音-拼音輸入法-繁體-設定&#34;&gt;微軟拼音 拼音輸入法 繁體 設定&lt;/h3&gt;
&lt;p&gt;主要就是使用 Windows 內建 中國拼音輸入法的拼音，在設定成繁體即可&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a021.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a022.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a023.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a024.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a025.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/03/a031.jpg&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Ansible Synchronize Why Permission Denied</title>
      <link>https://blog.ooopiz.com/post/2021/01/ansible-synchronize-why-permission-denied/</link>
      <pubDate>Thu, 28 Jan 2021 15:37:22 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2021/01/ansible-synchronize-why-permission-denied/</guid>
      <description>&lt;h2 id=&#34;關於-ansible-的-synchronize-模組問題&#34;&gt;關於 ansible 的 Synchronize 模組問題&lt;/h2&gt;
&lt;p&gt;關於 ansible 的使用上，synchroize 是一個很棒的模組，&lt;br&gt;
如果大量的檔案想要複製到目標機器上的話，也許有其他模組可以達到類似的需求，&lt;br&gt;
但以效能來說，synchroize 這個模組大概會是首選，因為其底層是透過 rsync 的指令傳輸資料。&lt;/p&gt;
&lt;p&gt;不過 synchroize 這個模組卻是時靈時不靈。&lt;br&gt;
筆者有一陣子很困擾的問題是，為什麼整份 ansible script 已經測試那麼多次了。&lt;br&gt;
執行到有 synchroize 這個模組有時還是會報出 permission deied。&lt;/p&gt;
&lt;p&gt;become_user: root, become_method: sudo, 跟模組參數試了又試。&lt;br&gt;
還是很難理解到底那個環節出了問題。&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2021/01/a001.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;發現問題&#34;&gt;發現問題&lt;/h2&gt;
&lt;p&gt;一般來說 ansible 使用上都是透過 ssh 控制遠程的目標伺服器。&lt;br&gt;
筆者的 asnible script 寫了很多安裝佈署的步驟，其中當然也包含了 synchroize 模組。&lt;/p&gt;
&lt;p&gt;為了符合單機離線安裝的情境，做這類佈署時我會直接將 inventory 的主機直接指定本地端的 IP，&lt;br&gt;
直接在本地執行安裝腳本。&lt;/p&gt;
&lt;p&gt;一台 Server 可能會有多個網卡跟IP（127.0.0.1 or 192.168.x.x）&lt;br&gt;
就在某次我將 inventory 目標主機指定成 127.0.0.1 果然發生一樣的問題。&lt;/p&gt;
&lt;p&gt;當我發現目標機器是 127.0.0.1 時就會出問題，&lt;br&gt;
目標機器 是 192.168.1.10 (一樣是本地端IP) 卻是正常的。&lt;/p&gt;
&lt;p&gt;我大概可以猜測 synchroize 模組針對 localhsot or 127.0.0.1 的目標機器可能有不同的處理流程&lt;/p&gt;</description>
    </item>
    <item>
      <title>你知道在 Mac 上，怎麼把資料夾的檔案轉成 ISO 檔嗎？</title>
      <link>https://blog.ooopiz.com/post/2020/02/macos-generator-iso-from-dir/</link>
      <pubDate>Thu, 13 Feb 2020 20:20:54 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2020/02/macos-generator-iso-from-dir/</guid>
      <description>&lt;h2 id=&#34;先聊個天&#34;&gt;先聊個天&lt;/h2&gt;
&lt;p&gt;很棒，今天以前我也不知道，我找解法找了好幾天，這篇獻給有緣的地球人。&lt;/p&gt;
&lt;p&gt;雖然我有找到別的軟體可以做這個事情，但要付錢我就沒有使用了。&lt;/p&gt;
&lt;p&gt;我在網路上找許久，不管怎麼下關鍵字都是教怎麼把 ISO 燒進 usb&lt;/p&gt;
&lt;p&gt;就是沒有檔案打包 ISO 檔的&lt;/p&gt;
&lt;p&gt;終於&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;資料夾轉成映像檔&#34;&gt;資料夾轉成映像檔&lt;/h2&gt;
&lt;p&gt;磁碟工具程式 &amp;gt; 檔案 &amp;gt; 新增映像檔 &amp;gt; 來自檔案夾的映像檔 &amp;gt; 格式選 DVD/CD 母片&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;add&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/02/a001.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;於是它把我的檔案製作成了 .cdr&lt;/p&gt;
&lt;h2 id=&#34;轉檔-cdr-to-iso&#34;&gt;轉檔 cdr to iso&lt;/h2&gt;
&lt;p&gt;最先我找到的指令是這一句&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ hdiutil makehybrid -iso -joliet -o rpms.iso rpms.cdr&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;hdiutil&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/02/a002.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;成功轉檔&lt;/p&gt;
&lt;h2 id=&#34;在-virtualbox-掛載&#34;&gt;在 VirtualBox 掛載&lt;/h2&gt;
&lt;p&gt;用 virtualbox 的 VM 掛載 ISO 試試&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;mount&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/02/a003.jpg&#34;&gt;
&lt;img alt=&#34;mount&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/02/a004.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;掛載成功&lt;/p&gt;
&lt;h2 id=&#34;燒錄在光碟的檔名變短&#34;&gt;燒錄在光碟的檔名變短&lt;/h2&gt;
&lt;p&gt;後來在使用 ISO 時，發現 ISO 裡有些檔案，檔案名稱自動變短，搜尋了一下才發現有格式上的問題。&lt;/p&gt;
&lt;p&gt;在各種格式下的檔案名稱有其長度的限制&lt;/p&gt;
&lt;p&gt;ISO 9600&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LV1：11字元，8.3格式&lt;/li&gt;
&lt;li&gt;LV2：31字元&lt;/li&gt;
&lt;li&gt;LVX：219字元&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Joliet&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LV1：64個字元&lt;/li&gt;
&lt;li&gt;LVX：110個字元&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UDF：255個字元&lt;/p&gt;
&lt;p&gt;於是將轉檔的指令改成 -udf&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kafka 基本設定與用法</title>
      <link>https://blog.ooopiz.com/post/2020/01/kafka-basic-setting-and-usage/</link>
      <pubDate>Thu, 30 Jan 2020 22:33:26 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2020/01/kafka-basic-setting-and-usage/</guid>
      <description>&lt;h2 id=&#34;prepare&#34;&gt;Prepare&lt;/h2&gt;
&lt;p&gt;安裝 kafka 前先在環境中安裝 Java and Scala&lt;/p&gt;
&lt;h2 id=&#34;install&#34;&gt;Install&lt;/h2&gt;
&lt;p&gt;看官網的 quick start 吧&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Offical &lt;a href=&#34;https://kafka.apache.org/quickstart&#34; target=&#34;_blank&#34; &gt;Quick start&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Offical &lt;a href=&#34;https://kafka.apache.org/downloads&#34; target=&#34;_blank&#34; &gt;Download&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;設定&#34;&gt;設定&lt;/h2&gt;
&lt;h3 id=&#34;設定啟動-kafka-的用戶-與權限&#34;&gt;設定啟動 kafka 的用戶 與權限&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$ useradd kafka&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ chown -R kafka:kafka /opt/kafka*&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;設定-systemd-的-守護進程&#34;&gt;設定 systemd 的 守護進程&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$ vi /etc/systemd/system/zookeeper.service&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-config&#34; data-lang=&#34;config&#34;&gt;[Unit]
Description=zookeeper
After=syslog.target network.target

[Service]
Type=simple
User=kafka
Group=kafka
ExecStart=/opt/kafka/bin/zookeeper-server-start.sh /opt/kafka/config/zookeeper.properties
ExecStop=/opt/kafka/bin/zookeeper-server-stop.sh

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;$ vi /etc/systemd/system/kafka.service&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-config&#34; data-lang=&#34;config&#34;&gt;[Unit]
Description=Apache Kafka
Requires=zookeeper.service
After=zookeeper.service

[Service]
Type=simple
User=kafka
Group=kafkaa
ExecStart=/opt/kafka/bin/kafka-server-start.sh /opt/kafka/config/server.properties
ExecStop=/opt/kafka/bin/kafka-server-stop.sh

[Install]
WantedBy=multi-user.target
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;kafka-設定&#34;&gt;kafka 設定&lt;/h3&gt;
&lt;p&gt;先設定一個主機名稱給hosts&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;host&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/c001.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Macos L2tp vpn 設定</title>
      <link>https://blog.ooopiz.com/post/2020/01/macos-l2tp-settup/</link>
      <pubDate>Sat, 04 Jan 2020 02:20:14 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2020/01/macos-l2tp-settup/</guid>
      <description>&lt;h1 id=&#34;macos-l2tp-vpn-設定&#34;&gt;Macos L2tp vpn 設定&lt;/h1&gt;
&lt;h2 id=&#34;打開網路偏好設定&#34;&gt;打開網路偏好設定&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b001.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b002.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;點加號新增-vpn&#34;&gt;點加號新增 VPN&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;介面 VPN&lt;/li&gt;
&lt;li&gt;IPSec 的 L2TP&lt;/li&gt;
&lt;li&gt;輸入任意的服務名稱&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b003.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;輸入伺服器位置與帳號&#34;&gt;輸入伺服器位置與帳號&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;完成後點選認證設定&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b004.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;認證設定&#34;&gt;認證設定&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;輸入密碼&lt;/li&gt;
&lt;li&gt;輸入共享密鑰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b005.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;設定服務順序重要&#34;&gt;設定服務順序（重要）&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;點選齒輪設定服務順序&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b006.jpg&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;將剛剛的 VPN 設定檔拖曳至最上方 (Mac 有網卡路由的順序，沒有設定可能無法跳到 VPN 的內網)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/b007.jpg&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Window10 l2tp vpn 設定</title>
      <link>https://blog.ooopiz.com/post/2020/01/window10_l2tp_vpn_setting/</link>
      <pubDate>Sat, 04 Jan 2020 00:03:19 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2020/01/window10_l2tp_vpn_setting/</guid>
      <description>&lt;h2 id=&#34;window10-l2tp-vpn-設定&#34;&gt;Window10 l2tp vpn 設定&lt;/h2&gt;
&lt;h3 id=&#34;開啟-windows-設定&#34;&gt;開啟 Windows 設定&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/a001.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;搜尋-vpn-設定&#34;&gt;搜尋 VPN 設定&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/a002.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;新增-vpn-連線&#34;&gt;新增 VPN 連線&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/a003.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;設定參數&#34;&gt;設定參數&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;連線名稱自訂&lt;/li&gt;
&lt;li&gt;伺服器名稱填入 IP 或是 domain name&lt;/li&gt;
&lt;li&gt;VPN 類型，這邊以 L2TP 為例&lt;/li&gt;
&lt;li&gt;L2TP 預先共用金鑰&lt;/li&gt;
&lt;li&gt;輸入帳號密碼&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/a004.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;連線&#34;&gt;連線&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2020/01/a005.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>建立一個單節點的 kubernetes cluster (kubeadm)</title>
      <link>https://blog.ooopiz.com/post/2019/07/creating-kubernetes-single-node-cluster/</link>
      <pubDate>Mon, 29 Jul 2019 17:18:19 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/07/creating-kubernetes-single-node-cluster/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;前一陣子開始使用 minikube 玩了一下 k8s，覺得有很多迷惑的地方，於是索性自己架設一個集群來幫助自己更了解 k8s cluster。&lt;/p&gt;
&lt;h2 id=&#34;kubernetes-architecture&#34;&gt;Kubernetes Architecture&lt;/h2&gt;
&lt;p&gt;這是一個 kubernetes cluster 較完整的架構圖，本文的範疇只會在 Kubernetes Master 的綠色區塊。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;kubernetes architecture&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/07/b001.png&#34; title=&#34;kubernetes architecture&#34;&gt;
(圖片來自WIKI)&lt;/p&gt;
&lt;h2 id=&#34;master-節點的組件&#34;&gt;Master 節點的組件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ETCD 集群&lt;/li&gt;
&lt;li&gt;API SERVER&lt;/li&gt;
&lt;li&gt;Controller Manager&lt;/li&gt;
&lt;li&gt;Scheduler&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安裝準備&#34;&gt;安裝準備&lt;/h2&gt;
&lt;p&gt;先選定好要安裝在什麼 OS 上，&lt;br&gt;
並且選好 CNI 的方案，這邊用 Flannel，如不知道怎麼選，就先選跟文章一樣吧。&lt;/p&gt;
&lt;p&gt;下面列出我的環境跟CNI&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OS（CoreOS）
&lt;ul&gt;
&lt;li&gt;2 GB or more of RAM per machine (any less will leave little room for your apps)&lt;/li&gt;
&lt;li&gt;2 CPUs or more&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CNI（flannel）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;安裝-kubeadm&#34;&gt;安裝 kubeadm&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;官網文件：&lt;a href=&#34;https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/&#34; target=&#34;_blank&#34; &gt;Installing kubeadm&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;官網文件：&lt;a href=&#34;https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/create-cluster-kubeadm/&#34; target=&#34;_blank&#34; &gt;Creating a single control-plane cluster with kubeadm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;我用的是 CoreOS 依照官網指示，如下安裝（官網如有更新，請依照官網）。&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CoreOS Static Ip 固定 IP 設定</title>
      <link>https://blog.ooopiz.com/post/2019/07/coreos-static-ip/</link>
      <pubDate>Wed, 24 Jul 2019 17:01:37 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/07/coreos-static-ip/</guid>
      <description>&lt;h2 id=&#34;設定-static-ip&#34;&gt;設定 static ip&lt;/h2&gt;
&lt;p&gt;副檔名必須是.network&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$ vi /etc/systemd/network/enp0s8.network&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[Match]
Name=enp0s8
 
[Network]
Address=192.168.56.201/24
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;static ip&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/07/a001.jpg&#34; title=&#34;static ip&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;reboot&#34;&gt;reboot&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sudo reboot&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Docker cli 連線到遠端的 dockerd daemon</title>
      <link>https://blog.ooopiz.com/post/2019/06/docker-connecting-remote-daemon/</link>
      <pubDate>Tue, 04 Jun 2019 20:22:08 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/06/docker-connecting-remote-daemon/</guid>
      <description>&lt;h2 id=&#34;docker-是-clientserver-的架構&#34;&gt;docker 是 client/server 的架構&lt;/h2&gt;
&lt;p&gt;昨天在網路上看到一句話，大意是：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;docker 是 client / server 的架構，
由一個 docker cli 和 dockerd 的 daemon 組成&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;才赫然發現 docker 別有洞天吶。&lt;br&gt;
原來每天在敲的 docker 指令都是在操控本機的 docker daemon。&lt;/p&gt;
&lt;h2 id=&#34;如何連線到遠端的-docker-daemon&#34;&gt;如何連線到遠端的 docker daemon&lt;/h2&gt;
&lt;p&gt;有了上面那句話，就在想說是不是可以用我 local 的 docker cli 連線到其它機器的 dockerd。&lt;/p&gt;
&lt;p&gt;今天馬上用我 virtualbox 中的 coreOS 進行測試一下。&lt;/p&gt;
&lt;h3 id=&#34;dockerd-port-listen&#34;&gt;dockerd port listen&lt;/h3&gt;
&lt;p&gt;dockerd default 好像都沒有開啟 tcp port，必須在 dockerd 啟動時加入 -H 參數。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-H tcp://0.0.0.0:2375&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果是用 systemctl 控制 docker 你可以找到 docker.service，在腳本中加入 -H 參數。&lt;/p&gt;
&lt;p&gt;以 coreOS 為例，&lt;br&gt;
我的檔案在 /run/systemd/system/docker.service&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;dockerd -H tcp://0.0.0.0:2375&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/06/a001.jpg&#34; title=&#34;docker -H tcp://0.0.0.0:2375&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Virtualbox 安裝 Coreos</title>
      <link>https://blog.ooopiz.com/post/2019/05/virtualbox-install-coreos/</link>
      <pubDate>Tue, 28 May 2019 15:20:25 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/05/virtualbox-install-coreos/</guid>
      <description>&lt;h2 id=&#34;到官網下載-coreos-iso-檔&#34;&gt;到官網下載 coreOS ISO 檔&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://coreos.com/os/docs/latest/booting-with-iso.html&#34; target=&#34;_blank&#34; &gt;Booting CoreOS Container Linux from an ISO&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如標題，這份 ISO 僅是開機片而已，並無安裝動作，&lt;br&gt;
如何安裝的部分下面會提到。&lt;/p&gt;
&lt;h2 id=&#34;virtualbox-新增機器&#34;&gt;VirtualBox 新增機器&lt;/h2&gt;
&lt;p&gt;選 Linux 64 bit 即可&lt;br&gt;
&lt;img alt=&#34;virtualbox-new-server&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/d001.jpg&#34; title=&#34;virtualbox-new-server&#34;&gt;&lt;/p&gt;
&lt;p&gt;掛載剛下載的 ISO 檔&lt;br&gt;
&lt;img alt=&#34;mount-coreos-iso&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/d002.jpg&#34; title=&#34;mount-coreos-iso&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;開機&#34;&gt;開機&lt;/h2&gt;
&lt;p&gt;官網有說明最小的 RAM 必須要 2G，一開始沒注意我也是只開了 512，下面是記憶體不足時的反應。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;512 G - &lt;em&gt;無限重開&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;1024 G - &lt;em&gt;boot into emergency shell&lt;/em&gt;
&lt;img alt=&#34;emergency shell&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/d003.jpg&#34; title=&#34;emergency shell&#34;&gt;&lt;/li&gt;
&lt;li&gt;2048 G - OK
&lt;img alt=&#34;coreos boot&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/d004.jpg&#34; title=&#34;coreos boot&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;使用ISO開機之後，並不會把檔案裝進硬碟，在上面進行任何操作，重開機後都會消失。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;安裝到硬碟&#34;&gt;安裝到硬碟&lt;/h2&gt;
&lt;p&gt;這個步驟要使用 coreos-install 這個指令來安裝硬碟，&lt;br&gt;
當 ISO boot 的時候，該指令就已經內建在系統裡了。&lt;br&gt;
要特別注意的是你必須寫一個 ignition.json 檔案來作為安裝時的參數，&lt;br&gt;
這個檔案可以用來設定用戶、網路、儲存、服務等。。。&lt;br&gt;
必須在設定檔中給定一個 ssh 公鑰，以利後續登入（如果有登入需求的話）&lt;br&gt;
否則裝好之後是無法使用 ssh login in 的。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Fswatch Save My Times</title>
      <link>https://blog.ooopiz.com/post/2019/05/fswatch-save-my-times/</link>
      <pubDate>Thu, 23 May 2019 23:27:58 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/05/fswatch-save-my-times/</guid>
      <description>&lt;h2 id=&#34;fswatch-可以用來檢測資料夾與文件的變更&#34;&gt;Fswatch 可以用來檢測資料夾與文件的變更&lt;/h2&gt;
&lt;p&gt;最近在用 vim 練習 golang，真的是 go run 到手累心也累，&lt;br&gt;
就到網路上搜看看有沒有可以監控檔案存檔事件的工具，&lt;br&gt;
於是找到了這款 Mac 可以使用的 &lt;a href=&#34;https://github.com/emcrisostomo/fswatch&#34; title=&#34;Fswatch&#34; target=&#34;_blank&#34; &gt;Fswatch&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;
&lt;p&gt;mac 上安裝就直接&lt;br&gt;
&lt;code&gt;brew install fswatch&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;腳本&#34;&gt;腳本&lt;/h2&gt;
&lt;p&gt;因為我只要監控 go file 有沒有異動，&lt;br&gt;
如果有的話幫我 compilar，所以腳本中有限定 .go 檔。&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#!/bin/bash

BASEDIR=$(dirname &amp;#34;$0&amp;#34;)

fswatch &amp;#34;$BASEDIR&amp;#34; | while read file
do
    filename=$(basename -- &amp;#34;$file&amp;#34;)
    extension=&amp;#34;${filename##*.}&amp;#34;
    filename=&amp;#34;${filename%.*}&amp;#34;

    if [ &amp;#34;$extension&amp;#34; = &amp;#34;go&amp;#34; ]
    then
        echo &amp;#34;=============================================\n\n&amp;#34;
        time go run ${file}
    fi
done
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;demo&#34;&gt;Demo&lt;/h2&gt;
&lt;p&gt;&lt;img alt=&#34;Auto compilar demo&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/c001.gif&#34; title=&#34;Auto compilar demo&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://my.oschina.net/mengshuai/blog/618354&#34; title=&#34;OS X使用fswatch&amp;#43;rsync自动检测文件夹改动并同步&#34; target=&#34;_blank&#34; &gt;OS X使用fswatch+rsync自动检测文件夹改动并同步&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>IPsec Lan to Lan Vigor-2925 and AWS-ec2</title>
      <link>https://blog.ooopiz.com/post/2019/05/vigor2925-ipsec-lantolan-aws-ec2/</link>
      <pubDate>Fri, 17 May 2019 08:02:00 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/05/vigor2925-ipsec-lantolan-aws-ec2/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;簡單說一下就是，我想讓我所在的網路可以訪問到 AWS subnet 的固定子網 IP，&lt;br&gt;
內網的工作同仁或者內部 Server 不用額外做 vpn 撥號或其他動作。&lt;/p&gt;
&lt;p&gt;其實 AWS 上面也有現成的服務可以租用（在 VPC 的設定中）&lt;br&gt;
一個月大概在台幣 1,000 左右 &lt;a href=&#34;https://aws.amazon.com/tw/vpn/pricing/&#34; target=&#34;_blank&#34; &gt;AWS VPN pricing&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;但基於我想自己架看看，另外也可以省點錢，就租了一台 EC2 來土炮了。&lt;/p&gt;
&lt;p&gt;目標就是使用 Vigor 2925 播出到 IPsec server 保持一個 Lan to Lan 的連線。&lt;/p&gt;
&lt;p&gt;公司端：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;設備：Vigor 2925&lt;/li&gt;
&lt;li&gt;網段：192.168.0.0/24&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AWS 端：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;網段：172.21.0.0/16&lt;/li&gt;
&lt;li&gt;IPsec Server ： CentOS7, EIP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;libreswan-簡介&#34;&gt;libreSwan 簡介&lt;/h2&gt;
&lt;p&gt;libreSwan 是 IPsec 協議的開源實現，基於FreeSwan 專案。&lt;br&gt;
在 Centos7 版本後， 提供ipsec 服務包由libreswan替代了openswan&lt;/p&gt;
&lt;h2 id=&#34;安裝-libreswan&#34;&gt;安裝 libreswan&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ yum install epel-release
$ yum install libreswan
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;設定-ipsec&#34;&gt;設定 ipsec&lt;/h2&gt;
&lt;p&gt;ipsec 啟動時會載入 /etc/ipsec.conf&lt;/p&gt;</description>
    </item>
    <item>
      <title>關於 Docker volume create</title>
      <link>https://blog.ooopiz.com/post/2019/05/docker-volume-create/</link>
      <pubDate>Fri, 10 May 2019 07:22:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2019/05/docker-volume-create/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;
&lt;p&gt;某次我在看某個服務的安裝文件時，發現了 docker volume create 這個指令。&lt;br&gt;
原本我都是使用 -v 對應到我 host 機器的目錄&lt;br&gt;
ex :&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-v $(pwd)/nginx-cache:/var/cache/nginx&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;後來很好奇 docker volume create 的用途還有存放路徑。&lt;br&gt;
於是就小小的研究了一下。&lt;/p&gt;
&lt;h2 id=&#34;docker-volume-create&#34;&gt;docker volume create&lt;/h2&gt;
&lt;p&gt;一般的 Linux 在執行 docker volume create … 之後，&lt;br&gt;
可以在 /var/lib/docker/volumes 看到 docker 幫你建立 volume 名稱的資料夾。&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;docker volume ls&#34; loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2019/05/a001.jpg&#34; title=&#34;docker volume ls&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;docker-volume-create-in-mac&#34;&gt;docker volume create In Mac&lt;/h2&gt;
&lt;p&gt;可是當你使用 Mac 執行過 docker volume create … 之後，&lt;br&gt;
並無法在 Mac 電腦中找到 /var/lib/docker/volumes 這個目錄。&lt;/p&gt;
&lt;p&gt;在 Mac 電腦 是無法直接訪問 /var/lib/docker/volumes 這個目錄，&lt;br&gt;
必須先 screen 到 docker 目錄下的 tty，&lt;br&gt;
進到 tty 之後就可以在 /var/lib/docker/volums 看到 create 的目錄名稱了。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Gitlab-ce 版本升級與容器化</title>
      <link>https://blog.ooopiz.com/post/2018/11/gitlab-version-update-and-dockerized/</link>
      <pubDate>Thu, 01 Nov 2018 10:45:51 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2018/11/gitlab-version-update-and-dockerized/</guid>
      <description>&lt;h2 id=&#34;升級目標&#34;&gt;升級目標&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;gitlab-ce:8.14.4 升級到 gitlab-ce:11.3.4&lt;/li&gt;
&lt;li&gt;Omnibus 轉移到 Docker 容器（Dockerized）&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;步驟流程&#34;&gt;步驟流程&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;一、備份 Omnibus 上的資料&lt;/li&gt;
&lt;li&gt;二、準備 docker 環境&lt;/li&gt;
&lt;li&gt;三、啟動新環境（使用 gitlab-ce:8.14.4-ce.0 版本的 Image）與還原&lt;/li&gt;
&lt;li&gt;四、版本逐步升級&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;一備份-omnibus-上的資料&#34;&gt;一、備份 Omnibus 上的資料&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;$ gitlab-rake gitlab:backup:create&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;二準備-docker-環境&#34;&gt;二、準備 docker 環境&lt;/h2&gt;
&lt;h3 id=&#34;install-docker-docker-compose&#34;&gt;Install docker, docker-compose&lt;/h3&gt;
&lt;h3 id=&#34;檔案存放的根目錄我設定在-srvgitlab因此先在母體主機建立三個資料夾後續給-docker-掛載&#34;&gt;檔案存放的根目錄我設定在 /srv/gitlab，因此先在母體主機建立三個資料夾後續給 docker 掛載。&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;/srv/gitlab/config&lt;/li&gt;
&lt;li&gt;/srv/gitlab/logs&lt;/li&gt;
&lt;li&gt;/srv/gitlab/data&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;三啟動新環境使用-gitlab-ce8144-ce0-版本的-image與匯入&#34;&gt;三、啟動新環境（使用 gitlab-ce:8.14.4-ce.0 版本的 Image）與匯入&lt;/h2&gt;
&lt;h3 id=&#34;複製-omnibus-機器下的主機金鑰組到新環境&#34;&gt;複製 omnibus 機器下的主機金鑰組到新環境&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;From omnibus (/etc/ssh/ssh_host_*) copy to /srv/gitlab/config/&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;撰寫-docker-composeyaml-如下&#34;&gt;撰寫 docker-compose.yaml 如下&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;hostname 與 external_url 替換成自己的參數&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;web:
  image: &amp;#39;gitlab/gitlab-ce:8.14.4-ce.0&amp;#39;
  container_name: gitlab
  restart: always
  hostname: &amp;#39;git.example.com&amp;#39;
  environment:
    TZ: Asia/Taipei
    GITLAB_OMNIBUS_CONFIG: |
      external_url &amp;#39;http://git.example.com&amp;#39;
      # Add any other gitlab.rb configuration here, each on its own line
  ports:
    - &amp;#39;22:22&amp;#39;
    - &amp;#39;80:80&amp;#39;
    - &amp;#39;443:443&amp;#39;
  volumes:
    - &amp;#39;/srv/gitlab/config:/etc/gitlab&amp;#39;
    - &amp;#39;/srv/gitlab/logs:/var/log/gitlab&amp;#39;
    - &amp;#39;/srv/gitlab/data:/var/opt/gitlab&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;使用上方的docker-compose-啟動-gitlab-ce&#34;&gt;使用上方的docker-compose 啟動 gitlab-ce&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;$ docker-compose up -d&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>opensourcepos 安裝</title>
      <link>https://blog.ooopiz.com/post/2017/05/opensourcepos-install/</link>
      <pubDate>Mon, 15 May 2017 07:46:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2017/05/opensourcepos-install/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://phppointofsale.com/&#34; target=&#34;_blank&#34; &gt;php pos 商用版&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/jekkos/opensourcepos&#34; target=&#34;_blank&#34; &gt;開源版本 opensourcepos&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;OpenSource POS其實就是舊版本的源碼釋出，基本上版本落差有點大，合不合用就只能試試才知道了&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;環境準備&#34;&gt;環境準備：&lt;/h2&gt;
&lt;p&gt;安裝lamp&lt;/p&gt;
&lt;p&gt;php require&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;php-gd&lt;/li&gt;
&lt;li&gt;php-bcmath&lt;/li&gt;
&lt;li&gt;php-intl&lt;/li&gt;
&lt;li&gt;php-sockets&lt;/li&gt;
&lt;li&gt;php-mcrypt&lt;/li&gt;
&lt;li&gt;php-curl installed and enabled.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;下載程式&#34;&gt;下載程式：&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;# cd /var/www&lt;/code&gt;
&lt;code&gt;# git clone https://github.com/jekkos/opensourcepos.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# mv opensourcepos pos&lt;/code&gt;
&lt;code&gt;# cd /var/www/pos&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;看你要使用哪個版本 使用git指令切過去
&lt;code&gt;# git checkout tags/3.0.2 -b b_3.0.2&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;設置權限&#34;&gt;設置權限：&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;# chown -R apache:apache /var/www/pos&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;匯入資料db資訊依照自己的資訊填入&#34;&gt;匯入資料：(db資訊依照自己的資訊填入)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;# mysql pos /var/www/pos/database/database.sql&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;設定檔&#34;&gt;設定檔：&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;# cd /var/www/pos/application/config&lt;/code&gt;
&lt;code&gt;# cp database.php.tmpl database.php&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# vi database.php&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$db[&amp;#39;default&amp;#39;][&amp;#39;hostname&amp;#39;] = &amp;#39;localhost&amp;#39;;
$db[&amp;#39;default&amp;#39;][&amp;#39;username&amp;#39;] = &amp;#39;db_user&amp;#39;;
$db[&amp;#39;default&amp;#39;][&amp;#39;password&amp;#39;] = &amp;#39;db_pass&amp;#39;;
$db[&amp;#39;default&amp;#39;][&amp;#39;database&amp;#39;] = &amp;#39;pos&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;apache設定&#34;&gt;apache設定&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;vi /etc/httpd/conf.d/pos.conf&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>pem轉ppk putty 登入</title>
      <link>https://blog.ooopiz.com/post/2017/03/pem-to-ppk-putty-login/</link>
      <pubDate>Tue, 21 Mar 2017 02:21:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2017/03/pem-to-ppk-putty-login/</guid>
      <description>&lt;h2 id=&#34;putty不支援openssh-所以手上有pem檔的話需要做一次轉換&#34;&gt;putty不支援openssh, 所以手上有pem檔的話需要做一次轉換&lt;/h2&gt;
&lt;p&gt;前往下載
&lt;a href=&#34;http://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html&#34; target=&#34;_blank&#34; &gt;puttygen.exe&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;pem-轉-ppk&#34;&gt;pem 轉 ppk&lt;/h2&gt;
&lt;h3 id=&#34;1載入pem&#34;&gt;1.載入pem&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-a01.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2如果看不到檔案請選all-file&#34;&gt;2.如果看不到檔案請選all file&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-a02.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3載入後選擇save-private-key&#34;&gt;3.載入後選擇save private key&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-a03.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4輸入檔名生成ppk檔&#34;&gt;4.輸入檔名生成ppk檔&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-a04.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;putty設定登入&#34;&gt;putty設定登入&lt;/h2&gt;
&lt;h3 id=&#34;1轉換完成的ppk檔放置到你想保存的位置&#34;&gt;1.轉換完成的ppk檔放置到你想保存的位置&lt;/h3&gt;
&lt;h3 id=&#34;2開啟putty-以下為範例照自己的機器與檔案資訊填寫&#34;&gt;2.開啟putty (以下為範例照自己的機器與檔案資訊填寫)&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-b01.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3輸入用戶名稱&#34;&gt;3.輸入用戶名稱&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-b02.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4載入ppk檔&#34;&gt;4.載入ppk檔&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-b03.jpg&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5記得回來按一下存檔&#34;&gt;5.記得回來按一下存檔&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/2017/m03-b04.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;linux-or-cmder登入方式&#34;&gt;linux or Cmder登入方式&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ssh -i xxx.pem username@192.168.1.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;改port的話&lt;/p&gt;
&lt;p&gt;ssh -i pem路徑 用戶名稱@主機位址 -p Port端口&lt;/p&gt;</description>
    </item>
    <item>
      <title>php call java 類別</title>
      <link>https://blog.ooopiz.com/post/2016/12/php-call-java-class/</link>
      <pubDate>Wed, 21 Dec 2016 03:23:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/12/php-call-java-class/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://php-java-bridge.sourceforge.net/pjb/&#34; target=&#34;_blank&#34; &gt;php-java-bridge 介紹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://sourceforge.net/projects/php-java-bridge/&#34; target=&#34;_blank&#34; &gt;php-java-bridge 載點&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Files &amp;gt; Binary package &amp;gt; JavaBridgeTemplate621.war&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;我下載到的版本是JavaBridgeTemplate621.war&lt;/p&gt;
&lt;h2 id=&#34;寫一個jar來做測試&#34;&gt;寫一個jar來做測試&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;# mkdir TestMath&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# cd TestMath&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# vi TestMath.java&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;public class TestMath {

    private Integer num1;
    private Integer num2;

    public TestMath() {
        this.num1 = 0;
        this.num2 = 0;
    }

    public TestMath(Integer n1, Integer n2) {
        this.num1 = n1;
        this.num2 = n2;
    }

    public void setNum1(Integer n) {
        this.num1 = n;
    }

    public void setNum2(Integer n) {
        this.num2 = n;
    }

    public Integer plus() {
        return num1 + num2;
    }

    public Integer minus() {
        return num1 - num2;
    }

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;code&gt;# javac TestMath.java&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>GitLab 7.14升級8.X</title>
      <link>https://blog.ooopiz.com/post/2016/12/gitlab-upgrade-7.14-to-8/</link>
      <pubDate>Thu, 08 Dec 2016 13:22:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/12/gitlab-upgrade-7.14-to-8/</guid>
      <description>&lt;h2 id=&#34;簡介&#34;&gt;簡介&lt;/h2&gt;
&lt;p&gt;上次安裝Gitlab大約將近一年前了，Gitlab也更新了很多功能，因此來著手進行一次升級，順便練習一下
recovery，以免意外發生時手忙腳亂．&lt;/p&gt;
&lt;p&gt;目前版本：gitlab-ce-7.14.3-ce.1.el7.x86_64
預計更新版本：就更新到最新版吧目前是8.14.4&lt;/p&gt;
&lt;p&gt;一開始傻傻的，想要把舊版本的backup檔，直接到8.X版本進行匯入，
很快的它就會告訴你版本不合了，
只好再用別的方式&lt;/p&gt;
&lt;p&gt;後來我準備了兩台伺服器，
一台先安裝7.14.3
一台安裝最新版8.14.4&lt;/p&gt;
&lt;p&gt;預計先將7.14.3的備份檔匯入第一台伺服器，之後進行升級，
然後因為個人有點龜毛，再用升級好機器備份出8.14.4版的備份檔，
來到全新的新版機器(8.14.4)再進行匯入&lt;/p&gt;
&lt;h2 id=&#34;流程&#34;&gt;流程&lt;/h2&gt;
&lt;h3 id=&#34;舊機器-7143-備份&#34;&gt;舊機器 7.14.3 備份&lt;/h3&gt;
&lt;h4 id=&#34;1-備份backup檔&#34;&gt;1. 備份backup檔&lt;/h4&gt;
&lt;p&gt;在原本的機器上下指令備份gitlab資料&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# gitlab-rake gitlab:backup:create&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;新機器版本-7143&#34;&gt;新機器版本 7.14.3&lt;/h3&gt;
&lt;p&gt;這台機器要先裝好 7.14.3，匯入備份檔，再用 yum 更新到 8.14.4。&lt;/p&gt;
&lt;h4 id=&#34;1安裝&#34;&gt;1.安裝&lt;/h4&gt;
&lt;p&gt;我自己都用Omnibus
所以就先把Omnibus(gitlab-ce-7.14.3-ce.1.el7.x86_64)裝起來吧&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://about.gitlab.com/downloads/#centos7&#34; target=&#34;_blank&#34; &gt;gitlab 官網有美美的教學，自己來吧&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;其中有遇到一個問題是gitlab-ctl reconfigure時會停在[supervise_redis_sleep]&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https:////fblog.ooopiz.com/images/201609/M12-A01-02.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# sudo /opt/gitlab/embedded/bin/runsvdir-start &amp;amp;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# sudo gitlab-ctl reconfigure&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Ref:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://gitlab.com/gitlab-org/omnibus-gitlab/issues/430&#34; target=&#34;_blank&#34; &gt;Freeze on ruby_block[supervise_redis_sleep] action run&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2-匯入backup檔&#34;&gt;2. 匯入backup檔&lt;/h4&gt;
&lt;p&gt;我將backup檔copy到新伺服器的備份目錄下，執行recovery時，程序會自動將檔案recovery回去&lt;/p&gt;
&lt;p&gt;mv to &lt;code&gt;/var/opt/gitlab/backups/&lt;/code&gt;&lt;/p&gt;
&lt;h4 id=&#34;3開始前先停止相關數據服務連線&#34;&gt;3.開始前先停止相關數據服務連線&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;# gitlab-ctl stop unicorn&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;# gitlab-ctl stop sidekiq&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>利用 adjtimex 來修正 linux 時間偏差</title>
      <link>https://blog.ooopiz.com/post/2016/11/use-the-adjtimex-to-fix-linux-time-deviations/</link>
      <pubDate>Fri, 04 Nov 2016 10:26:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/11/use-the-adjtimex-to-fix-linux-time-deviations/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言：&lt;/h2&gt;
&lt;p&gt;前幾天使用virtualbox安裝了一台CentOS7的虛擬機器，卻發現時間一直偏差，因此特意抓了時間下來做比對，發現大約每分鐘就會差一秒，&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/M11-A01-01.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;使用虛擬機主客時間同步沒什麼效果，再考慮使用ntp來做時間校正，但因為偏差值太大，不希望校正後時間紀錄失真，&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;最後採用linux本身時間糾偏的方式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;主機OS是CentOS7，因為yum無法直接安裝所以找了source code自行安裝(&lt;em&gt;&lt;strong&gt;感謝神同事Leo協助突破盲腸&lt;/strong&gt;&lt;/em&gt;)&lt;/p&gt;
&lt;h2 id=&#34;下載下來後選定一個版本後即可開始安裝&#34;&gt;下載下來後選定一個版本後即可開始安裝&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/rogers0/adjtimex/tree/master&#34; target=&#34;_blank&#34; &gt;GITHUB - adjtimex&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./configure&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make install&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;先了解時間差&#34;&gt;先了解時間差&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;adjtimex --compare&lt;/code&gt; 或 &lt;code&gt;# adjtimex -c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/M11-A01-02.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;圖中每一筆紀錄是每10秒的週期，系統有一個對tick和freq的推薦值，可以用這個對系統進行校正．&lt;/p&gt;
&lt;h2 id=&#34;這邊我的-t校正值是9859&#34;&gt;這邊我的-t校正值是9859&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;adjtimex --tick 9859&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;再檢視一次&#34;&gt;再檢視一次&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;adjtimex -c&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/M11-A01-03.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;這邊還有約-08的偏差但其實已經相當接近要修正更精密的差距必須用-f參數&#34;&gt;這邊還有約-0.8的偏差，但其實已經相當接近，要修正更精密的差距必須用-f參數&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;公式&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;f = 差值 * 100000 * 65536&lt;/p&gt;
&lt;p&gt;或&lt;/p&gt;
&lt;p&gt;f = error_ppm平均值 * 65536&lt;/p&gt;
&lt;p&gt;這裡 = 250 * 65536 = 16384000&lt;/p&gt;
&lt;h2 id=&#34;這邊我的-f校正值是16384000&#34;&gt;這邊我的-f校正值是16384000&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;adjtimex -f 16384000&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/M11-A01-04.jpg&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Yum Zabbix server, agent</title>
      <link>https://blog.ooopiz.com/post/2016/10/yum-zabbix-server-agent/</link>
      <pubDate>Thu, 27 Oct 2016 02:13:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/10/yum-zabbix-server-agent/</guid>
      <description>&lt;h2 id=&#34;安裝相應的-rpm-檔啟用-zabbix-repository&#34;&gt;安裝相應的 RPM 檔啟用 Zabbix Repository&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;RHEL 7, CentOS 7
&lt;code&gt;rpm -Uvh http://repo.zabbix.com/zabbix/2.2/rhel/7/x86_64/zabbix-release-2.2-1.el7.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;RHEL 6, CentOS 6
&lt;code&gt;rpm -Uvh http://repo.zabbix.com/zabbix/2.2/rhel/6/x86_64/zabbix-release-2.2-1.el6.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;zabbix-server&#34;&gt;zabbix-server&lt;/h2&gt;
&lt;p&gt;由於 Zabbix 是基於 PHP 及 MySQL 開發, 需要先安裝 LAMP 環境&lt;/p&gt;
&lt;p&gt;php 使用模組&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install php70w-bcmath php70w-mbstring php70w-mysql php70w-gd php70w-ldap php70w-pdo php70w-process php70w-pear php70w-xml php70w-xmlrpc&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;開始安裝&#34;&gt;開始安裝&lt;/h3&gt;
&lt;p&gt;YUM 安裝 Zabbix 及相關套件&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install zabbix-server-mysql zabbix-web-mysql zabbix-agent zabbix-java-gateway&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;建立 zabbix 帳號及資料庫&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql&amp;gt; CREATE SCHEMA zabbix DEFAULT CHARACTER SET utf8 ;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql&amp;gt; GRANT ALL PRIVILEGES on zabbix.* to &#39;zabbix&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;zabbix&#39;;&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>bind make安裝搭配 dlz mysql</title>
      <link>https://blog.ooopiz.com/post/2016/10/bind-makeinstall-with-dlz-mysql/</link>
      <pubDate>Mon, 17 Oct 2016 15:46:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/10/bind-makeinstall-with-dlz-mysql/</guid>
      <description>&lt;h2 id=&#34;bind-dlz-簡介&#34;&gt;Bind-dlz 簡介&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;BIND從文本文件中獲取數據，這樣容易因為編輯錯誤出現問題。&lt;/li&gt;
&lt;li&gt;BIND需要將數據載入到內存中，如果域或者記錄較多，會消耗大量的內存。&lt;/li&gt;
&lt;li&gt;BIND啟動時解析Zone文件，對於一個記錄較多的DNS來說，會耽誤更多的時間。&lt;/li&gt;
&lt;li&gt;如果最近修改一條記錄，那麼要重新載入或者重啟BIND才能生效，可能會影響客戶端查詢。&lt;/li&gt;
&lt;li&gt;bind-dlz主要解決上述缺陷而誕生，在mysql存儲zone的記錄，比在文本中好管理的多。&lt;/li&gt;
&lt;li&gt;DLZ算是bind的好朋友，用了DLZ後，這些zone記錄可以直接存到資料庫(mysql PostgreSQL等)並且是立即生效&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;reference&#34;&gt;Reference&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.coctec.com/docs/service/show-post-12776.html&#34; target=&#34;_blank&#34; &gt;智能DNS(Bind dlz)在企業中的應用&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;bind-安裝-mysql篇&#34;&gt;Bind 安裝 (MySQL篇)&lt;/h2&gt;
&lt;p&gt;bind9 默認不支援 dlz 需要在編譯時加上 with (看你搭配什麼資料庫)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ndash;with-dlz-mysql&lt;/li&gt;
&lt;li&gt;&amp;ndash;with-dlz-postgres&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;前置作業&#34;&gt;前置作業&lt;/h3&gt;
&lt;p&gt;一、到官網或FTP站下載安裝檔&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.isc.org/downloads/&#34; target=&#34;_blank&#34; &gt;Bind官網&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://ftp.isc.org/isc/bind9/&#34; target=&#34;_blank&#34; &gt;FTP站&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;二、安裝MySQL資料庫&lt;/p&gt;
&lt;h3 id=&#34;開始安裝&#34;&gt;開始安裝&lt;/h3&gt;
&lt;h4 id=&#34;1-防火牆設定開啟-53-port&#34;&gt;1. 防火牆設定(開啟 53 port)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;iptables -A INPUT -p tcp -m state --state NEW -m tcp --dport 53 -j ACCEPT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-A INPUT -p udp -m state --state NEW -m udp --dport 53 -j ACCEPT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service iptables save&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service iptables restart&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS yum 安裝 bind9</title>
      <link>https://blog.ooopiz.com/post/2016/10/centos-yum-install-bind9/</link>
      <pubDate>Tue, 04 Oct 2016 02:09:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/10/centos-yum-install-bind9/</guid>
      <description>&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;yum install bind bind-utils -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service named start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chkconfig named on&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;防火牆設定&#34;&gt;防火牆設定&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;iptables -I INPUT 5 -m state --state NEW -m tcp -p tcp --dport 53 -j ACCEPT &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;iptables -I INPUT 5 -m state --state NEW -m udp -p udp --dport 53 -j ACCEPT&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service iptables save&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service iptables restart&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;設定&#34;&gt;設定&lt;/h3&gt;
&lt;h4 id=&#34;預設-nemedconf-檔-bind-982rc1-redhat-982-047rc1el6&#34;&gt;預設 nemed.conf 檔 (BIND 9.8.2rc1-RedHat-9.8.2-0.47.rc1.el6)&lt;/h4&gt;
&lt;p&gt;以下為 yum 安裝後產生的預設 named.conf 設定檔&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;options {
        listen-on port 53 { 127.0.0.1; };
        listen-on-v6 port 53 { ::1; };
        directory       &amp;#34;/var/named&amp;#34;;
        dump-file       &amp;#34;/var/named/data/cache_dump.db&amp;#34;;
        statistics-file &amp;#34;/var/named/data/named_stats.txt&amp;#34;;
        memstatistics-file &amp;#34;/var/named/data/named_mem_stats.txt&amp;#34;;
        allow-query     { localhost; };
        recursion yes;

        dnssec-enable yes;
        dnssec-validation yes;

        /* Path to ISC DLV key */
        bindkeys-file &amp;#34;/etc/named.iscdlv.key&amp;#34;;

        managed-keys-directory &amp;#34;/var/named/dynamic&amp;#34;;
};

logging {
        channel default_debug {
                file &amp;#34;data/named.run&amp;#34;;
                severity dynamic;
        };
};

zone &amp;#34;.&amp;#34; IN {
        type hint;
        file &amp;#34;named.ca&amp;#34;;
};

include &amp;#34;/etc/named.rfc1912.zones&amp;#34;;
include &amp;#34;/etc/named.root.key&amp;#34;;
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;修改設定&#34;&gt;修改設定&lt;/h4&gt;
&lt;p&gt;修改 options 設定，允許查詢來源&lt;/p&gt;</description>
    </item>
    <item>
      <title>HP ProLiant DL20 Gen9 CentOS7 安裝讀不到Raid卡解決方式</title>
      <link>https://blog.ooopiz.com/post/2016/09/hp-proliant-dl20-gen9-centos7-install-raidcard/</link>
      <pubDate>Thu, 29 Sep 2016 08:49:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/09/hp-proliant-dl20-gen9-centos7-install-raidcard/</guid>
      <description>&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A04-01.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;原生的 CentOS iso 檔無法讀到機器的 Raid 卡，需要自行下載驅動來安裝．&lt;/p&gt;
&lt;p&gt;首先必須先準備CentOS7的安裝檔，並且下載相對應的驅動，方法如下&lt;/p&gt;
&lt;h2 id=&#34;recommended-hp-proliant-smart-array-控制器-amd64em64t-驅動程式磁碟適用於-red-hat-enterprise-linux-7-amd64em64t&#34;&gt;[RECOMMENDED] HP ProLiant Smart Array 控制器 (AMD64/EM64T) 驅動程式磁碟（適用於 Red Hat Enterprise Linux 7 (AMD64/EM64T)）&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://drive.google.com/file/d/0Bxjw3Y-ONcPtUkRBaVdBYUdZenM/view?usp=sharing&#34; target=&#34;_blank&#34; &gt;hpsa-3.4.10-120.rhel7u0.x86_64.dd.gz&lt;/a&gt; &amp;laquo; CentOS 7&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://drive.google.com/file/d/0Bxjw3Y-ONcPtajJ0SU03ckh5emM/view?usp=sharing&#34; target=&#34;_blank&#34; &gt;hpsa-3.4.10-120.rhel7u1.x86_64.dd.gz&lt;/a&gt; &amp;laquo; CentOS 7.1&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;centos-7版本說明&#34;&gt;CentOS 7版本說明&lt;/h3&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;RHEL 版本&lt;/th&gt;
          &lt;th&gt;版本&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;CentOS 7&lt;/td&gt;
          &lt;td&gt;7-1406&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;CentOS 7.1&lt;/td&gt;
          &lt;td&gt;7-1503&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;CentOS 7.2&lt;/td&gt;
          &lt;td&gt;7-1511&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;a href=&#34;https://zh.wikipedia.org/wiki/CentOS&#34; target=&#34;_blank&#34; &gt;Wiki - CentOS版本說明&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;installation&#34;&gt;Installation:&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在類似 Linux 的作業系統下建立驅動程式更新 USB 隨身碟：&lt;/li&gt;
&lt;li&gt;將 hpsa-..x86_64.dd.gz 檔案儲存至暫存目錄。使用 GUNZIP 將此檔案中的 hpsa-..x86_64.dd 解壓縮至同一目錄。&lt;/li&gt;
&lt;li&gt;插入 USB 隨身碟。若已自動掛載 USB 隨身碟，請卸載 USB 隨身碟。&lt;/li&gt;
&lt;li&gt;寫入 hpsa-..x86_64.dd 檔案至 USB 隨身碟裝置。(不包括 USB 隨身碟是 /dev/sdc)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;dd if=hpsa-..x86_64.dd of=/dev/sdc1&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>運用google協作平台製作履歷</title>
      <link>https://blog.ooopiz.com/post/2016/09/google-resume/</link>
      <pubDate>Tue, 20 Sep 2016 05:50:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/09/google-resume/</guid>
      <description>&lt;h2 id=&#34;運用google協作平台製作履歷&#34;&gt;運用google協作平台製作履歷&lt;/h2&gt;
&lt;p&gt;安安大家好，我也是看別人用我才知道可以這樣用的，或者你想做別的事情，就自由發揮吧．&lt;/p&gt;
&lt;p&gt;開始用的時候用起來有點麻煩，感覺介面不太友善．&lt;/p&gt;
&lt;p&gt;這邊感謝一下瘋婆子 yaya 協助破關．&lt;/p&gt;
&lt;h2 id=&#34;下面簡單介紹一下一些設定順便筆記&#34;&gt;下面簡單介紹一下一些設定順便筆記&lt;/h2&gt;
&lt;p&gt;建立一個協作平台&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;一開始你可能會想把這兩個東西拿掉&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-02.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;管理協作平台&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;設定搜尋功能&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-04.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;編輯協作平台版面配置&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-05.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;恩你看了就知道了~~~ 啾&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201609/A03-06.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Hicloud S3雲儲存資料夾掛載</title>
      <link>https://blog.ooopiz.com/post/2016/08/hicloud-mount-s3-cloud-storage-folder/</link>
      <pubDate>Tue, 09 Aug 2016 02:07:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/08/hicloud-mount-s3-cloud-storage-folder/</guid>
      <description>&lt;h2 id=&#34;hicloud-s3雲儲存&#34;&gt;hicloud S3雲儲存&lt;/h2&gt;
&lt;p&gt;目的：將s3的bucket掛載到Caas雲伺服器&lt;/p&gt;
&lt;p&gt;主機環境：CentOS 6.4&lt;/p&gt;
&lt;p&gt;說明：s3fs base on fuse所以伺服器上必須有fuse的lib&lt;/p&gt;
&lt;p&gt;示意圖：&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201608/A01-01.png&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Resource：
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://s3help.cloudbox.hinet.net/index.php/2015-02-12-07-14-27&#34; target=&#34;_blank&#34; &gt;Hicloud S3 文檔&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;s3fs-fuse-安裝&#34;&gt;s3fs-fuse 安裝&lt;/h2&gt;
&lt;h3 id=&#34;一下載s3fs-fuse源碼進行安裝&#34;&gt;一、下載s3fs-fuse源碼進行安裝&lt;/h3&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/s3fs-fuse/s3fs-fuse&#34; target=&#34;_blank&#34; &gt;Github s3fs-fuse&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;二安裝所需套件&#34;&gt;二、安裝所需套件&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CentOS7
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yum install automake fuse fuse-devel gcc-c++ git libcurl-devel libxml2-devel make openssl-devel&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CentOS6
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yum install automake gcc-c++ git libcurl-devel libxml2-devel make openssl-devel&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;fuse fuse-devel 版本必須大於 2.8.4，CentOS6 yum install只有2.8.3，所以必須手動安裝(安裝步驟於下方)，安裝完成後，重這裡接續安裝即可．&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;三安裝步驟&#34;&gt;三、安裝步驟&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/s3fs-fuse/s3fs-fuse.git&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd s3fs-fuse&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./autogen.sh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;./configure -prefix=/usr&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;make install&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;四設定&#34;&gt;四、設定&lt;/h3&gt;
&lt;p&gt;要存取Hicloud的s3必須先申請一組access key與secret key&lt;/p&gt;
&lt;p&gt;將key info寫入設定檔中&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/passwd-s3fs&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>2016/07/27 使用ab壓測</title>
      <link>https://blog.ooopiz.com/post/2016/07/ab-pressure-test/</link>
      <pubDate>Fri, 29 Jul 2016 01:16:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/07/ab-pressure-test/</guid>
      <description>&lt;h2 id=&#34;環境說明&#34;&gt;環境說明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;主機：MacPro裡的VM&lt;/li&gt;
&lt;li&gt;CPU : 1&lt;/li&gt;
&lt;li&gt;Memory：512M&lt;/li&gt;
&lt;li&gt;系統：CentOS 7&lt;/li&gt;
&lt;li&gt;網頁服務：Nginx/1.11.1&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;開始進行壓力測試&#34;&gt;開始進行壓力測試&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ab -n 1000 -c 500 -k http://127.0.0.1/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;當擴大到2000併發時遇到 socket: Too many open files (24) 的問題&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ab -n 10000 -c 2000 -k http://127.0.0.1/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A07-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Google後了解是系統設定的限制&lt;/p&gt;
&lt;h3 id=&#34;查看目前系統設定的限制-ulimit--a--可查看全部參數&#34;&gt;查看目前系統設定的限制 (ulimit -a # 可查看全部參數)&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;su nginx -&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如果su 無法切換使用者可能需要修改一下 &lt;code&gt;vipw&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;查可開啟的數量&#34;&gt;查可開啟的數量&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ulimit -n&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;修改可打開的文件數&#34;&gt;修改可打開的文件數&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;vi /etc/security/limits.conf&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;星號代表全局，soft軟體，hard硬體，nofile指的是可打開的文件數&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;nginx soft nofile 65536
nginx hard nofile 65536
&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;* soft nofile 65536
* hard nofile 65536
&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Gradle 初探</title>
      <link>https://blog.ooopiz.com/post/2016/07/study-on-the-gradle/</link>
      <pubDate>Wed, 27 Jul 2016 03:14:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/07/study-on-the-gradle/</guid>
      <description>&lt;h2 id=&#34;如何用-gradle-建立專案&#34;&gt;如何用 gradle 建立專案&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-02.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-04.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-05.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-06.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-07.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-08.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-09.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201607/A05-10.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>javascript 有沒有var的差別</title>
      <link>https://blog.ooopiz.com/post/2016/07/differences-have-javascript-var/</link>
      <pubDate>Thu, 21 Jul 2016 14:54:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/07/differences-have-javascript-var/</guid>
      <description>&lt;p&gt;有沒有var差很大啊，要注意&lt;/p&gt;
&lt;p&gt;Output is &amp;ldquo;7&amp;rdquo;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;x is not defined&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-js&#34; data-lang=&#34;js&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;kd&#34;&gt;var&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;document&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ready&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;alert&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>2013 開放 Web 軟體安全計畫</title>
      <link>https://blog.ooopiz.com/post/2016/07/2013-open-web-software-safety-plans/</link>
      <pubDate>Mon, 11 Jul 2016 07:14:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/07/2013-open-web-software-safety-plans/</guid>
      <description>&lt;h2 id=&#34;2013-開放-web-軟體安全計畫--open-web-application-security-project&#34;&gt;2013 開放 Web 軟體安全計畫 – Open Web Application Security Project&lt;/h2&gt;
&lt;p&gt;&lt;a href=&#34;https://www.owasp.org/index.php/Top_10_2013-Top_10&#34; target=&#34;_blank&#34; &gt;https://www.owasp.org/index.php/Top_10_2013-Top_10&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;網站安全標準須防止 OWASP (開放Web軟體安全計畫 – Open Web Application Security Project)十大Web資安漏洞，其安全要求表列入下。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A1 - Injection (注入攻擊)：&lt;/li&gt;
&lt;li&gt;A2 - Broken Authentication and Session Management (失效的驗證與連線管理)：&lt;/li&gt;
&lt;li&gt;A3 - Cross-Site Scripting(XSS) (跨站腳本程式攻擊)：&lt;/li&gt;
&lt;li&gt;A4 - Insecure Direct Object References (不安全的物件參考)：&lt;/li&gt;
&lt;li&gt;A5 - Security Misconfiguration (不當的安全組態設定)：&lt;/li&gt;
&lt;li&gt;A6 - Sensitive Data Exposure (敏感資料暴露)：&lt;/li&gt;
&lt;li&gt;A7 - Missing Function Level Access Control (缺少功能級別的存取控制)：&lt;/li&gt;
&lt;li&gt;A8 - Cross Site Request Forgery (CSRF) (跨站冒名請求)：&lt;/li&gt;
&lt;li&gt;A9 - Using Components with Known Vulnerabilities(使用已知漏洞元件)：&lt;/li&gt;
&lt;li&gt;A10 - Unvalidated Redirects and Forwards (未經驗證的重新導向與轉送)：&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;top-10&#34;&gt;Top 10&lt;/h2&gt;
&lt;h3 id=&#34;a1---injection-注入攻擊&#34;&gt;A1 - Injection (注入攻擊)：&lt;/h3&gt;
&lt;p&gt;注入攻擊可說是目前最普遍的網站應用程式的攻擊手法&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7 安裝 Postfix</title>
      <link>https://blog.ooopiz.com/post/2016/05/centos7-install-postfix/</link>
      <pubDate>Thu, 26 May 2016 10:20:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/05/centos7-install-postfix/</guid>
      <description>&lt;h2 id=&#34;postfix-介紹&#34;&gt;Postfix 介紹&lt;/h2&gt;
&lt;p&gt;Postfix 是一套快速, 安全及容易管理的開源 Mail Transfer Agent (MTA),&lt;br&gt;
也是 Sendmail 很好的替代品。&lt;br&gt;
以下會介紹在 RHEL 及 CentOS 7 安裝 Postfix 及 Dovecot 作為 Email Server.&lt;/p&gt;
&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;
&lt;h3 id=&#34;前置作業&#34;&gt;前置作業&lt;/h3&gt;
&lt;p&gt;在開始前, 如果系統內安裝了其他 MTA (例如 Sendmail 或 Exim), 那便需要將它們移除, 以下是移除 Sendmail 及 Exim 的方法:&lt;/p&gt;
&lt;p&gt;查詢是否安裝過&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rpm -qa | grep sendmail&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rpm -qa | grep exim&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;移除&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum remove sendmail&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum remove exim&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;為了使安裝過程簡單一點, 關閉 SELinux, 開啟 /etc/sysconfig/selinux, 將:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SELINUX=enforcing
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;換成&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SELINUX=disabled
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;重開機後生效&lt;/p&gt;
&lt;h3 id=&#34;開始安裝-postfix&#34;&gt;開始安裝 Postfix&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install postfix&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>安裝 Nginx 1.9&#43;</title>
      <link>https://blog.ooopiz.com/post/2016/05/installing-nginx-19/</link>
      <pubDate>Thu, 05 May 2016 02:47:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/05/installing-nginx-19/</guid>
      <description>&lt;h2 id=&#34;新增-nginxrepo&#34;&gt;新增 nginx.repo&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;vi /etc/yum.repos.d/nginx.repo&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[nginx]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;nginx repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;http://nginx.org/packages/mainline/centos/$releasever/$basearch/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;安裝nginx&#34;&gt;安裝Nginx&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;yum install nginx&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;啟動服務&#34;&gt;啟動服務&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;service nginx start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chkconfig --levels 235 nginx on&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>安裝 PHP5.6</title>
      <link>https://blog.ooopiz.com/post/2016/05/install-php56/</link>
      <pubDate>Thu, 05 May 2016 02:38:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2016/05/install-php56/</guid>
      <description>&lt;h2 id=&#34;一更新rpm&#34;&gt;一、更新rpm&lt;/h2&gt;
&lt;h3 id=&#34;remi源-最新的php版本需要修改remirepo中的enabled0為1&#34;&gt;REMI源 (最新的PHP版本需要修改REMI.REPO中的ENABLED=0為1）&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;vi /etc/yum.repos.d/remi.repo&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CentOS 6
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yum install http://rpms.famillecollet.com/enterprise/remi-release-6.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;CentOS 7
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yum install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;二安裝-php&#34;&gt;二、安裝 PHP&lt;/h2&gt;
&lt;p&gt;想install其它版本的PHP需要修改REMI.REPO中的ENABLED=0為1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;路徑：/etc/yum.repos.d/remi.repo
&lt;ul&gt;
&lt;li&gt;[remi-php55]是PHP5.5&lt;/li&gt;
&lt;li&gt;[remi-php56]是PHP5.6&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;選擇你要的版本做修改即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/yum.repos.d/remi.repo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/002.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;安裝-php&#34;&gt;安裝 PHP&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install php&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;安裝其他-php-lib&#34;&gt;安裝其他 PHP Lib&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt libmcrypt-devel php-fpm&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;設定-php-php-fpm&#34;&gt;設定 php, php-fpm&lt;/h3&gt;
&lt;h3 id=&#34;設定-php&#34;&gt;設定 php&lt;/h3&gt;
&lt;p&gt;設定內容如下(/etc/php.ini)：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;cgi.fix_pathinfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;session.save_handler&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;session.save_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/var/lib/php/session&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;date.timezone&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;Asia/Taipei&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;error_reporting&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;E_ALL &amp;amp; ~E_NOTICE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;display_errors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;On&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;magic_quotes_gpc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;Off&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;設定-php-session-檔的權限&#34;&gt;設定 php session 檔的權限&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;mkdir /var/lib/php/session&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>安裝 Nexus OSS</title>
      <link>https://blog.ooopiz.com/post/2015/12/install-nexus-oss/</link>
      <pubDate>Mon, 14 Dec 2015 01:27:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/12/install-nexus-oss/</guid>
      <description>&lt;h2 id=&#34;nexus-oss&#34;&gt;Nexus OSS&lt;/h2&gt;
&lt;p&gt;Nexus OSS是用來架設maven私有倉庫的好幫手
安裝其實非常容易&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.sonatype.org/nexus/&#34; target=&#34;_blank&#34; &gt;下載網址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201512/A01-01.jpg&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;下載至您要放置的目錄下即可開始操作以下流程-這裡放置在usrlocal&#34;&gt;下載至您要放置的目錄下即可開始操作以下流程 (這裡放置在/usr/local)&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;tar zxvf nexus-2.11.4-01-bundle.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s nexus-2.11.4-01/ nexus&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chown -R nexus:nexus nexus&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chown -R nexus:nexus nexus-2.11.4-01/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chown -R nexus:nexus sonatype-work/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;修改下面兩個設定&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /nexus-2.11.4-01/bin/nexus&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;NEXUS_HOME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/usr/local/nexus/nexus&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;RUN_AS_USER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;nexus&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;修改Port&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /nexus-2.11.4-01/conf/nexus.properties&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;application-port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;18081&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;啟動&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sh /var/opt/nexus/nexus/bin/nexus start&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7 Tomcat 增加 systemctl 控制</title>
      <link>https://blog.ooopiz.com/post/2015/10/centos7-systemctl-control/</link>
      <pubDate>Thu, 01 Oct 2015 05:24:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/10/centos7-systemctl-control/</guid>
      <description>&lt;h2 id=&#34;1增加啟動參數&#34;&gt;1.增加啟動參數&lt;/h2&gt;
&lt;p&gt;在Tomcat的bin目錄下增加一個setenv.sh檔，catalina.sh啟動的時候會調用，同時可以在這個檔案設置Java內存&lt;/p&gt;
&lt;p&gt;範例如下:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#add tomcat pid  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;CATALINA_PID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;$CATALINA_BASE/tomcat7.pid&amp;#34;  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#add java opts  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;JAVA_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;-server -XX:PermSize=256M -XX:MaxPermSize=1024m -Xms512M -Xmx1024M -XX:MaxNewSize=256m&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;2增加-tomcatservice&#34;&gt;2.增加 tomcat.service&lt;/h2&gt;
&lt;p&gt;在 /usr/lib/systemd/system 目錄下增加 tomcat7.service，&lt;br&gt;
內容的目錄必須是絕對路徑。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /usr/lib/systemd/system/tomcat7.service&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;PIDFile就指到tomcat所在的目錄&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Description&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;Tomcat  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;After&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;syslog.target network.target remote-fs.target nss-lookup.target  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;   &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;[Service]  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;forking  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;PIDFile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/data/tomcat/tomcat7.pid  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ExecStart&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/data/tomcat/bin/startup.sh   &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ExecReload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/bin/kill -s HUP $MAINPID  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ExecStop&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/bin/kill -s QUIT $MAINPID  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;PrivateTmp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;true  
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;   &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;[Install]  &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;WantedBy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;multi-user.target &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;[unit]設定服務的描述&lt;/li&gt;
&lt;li&gt;[service]設定服務的啟動，停止等&lt;/li&gt;
&lt;li&gt;[install]設定使用用戶&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;systemctl-命令&#34;&gt;systemctl 命令&lt;/h2&gt;
&lt;h3 id=&#34;查看全部服務&#34;&gt;查看全部服務&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;systemctl list-unit-files --type service&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;查看服務&#34;&gt;查看服務&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;systemctl status name.service&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;啟動服務&#34;&gt;啟動服務&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;systemctl start name.service&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;停止服務&#34;&gt;停止服務&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;systemctl stop name.service&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 Tomcat開機自動啟動</title>
      <link>https://blog.ooopiz.com/post/2015/09/centos65-boot-tomcat-started-automatically/</link>
      <pubDate>Wed, 30 Sep 2015 21:50:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/centos65-boot-tomcat-started-automatically/</guid>
      <description>&lt;h2 id=&#34;1設定啟動腳本&#34;&gt;1.設定啟動腳本&lt;/h2&gt;
&lt;p&gt;在目錄 /etc/init.d 新增一個 tomcat 的腳本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/init.d/tomcat&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;記得修改你的 JAVA_HOME, CATALINA_HOME 到你所在的目錄下&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;#startup script for jakarta tomcat
#
# chkconfig: - 85 20
# description: Tomcat running
# processname: tomcat7
# pidfile: /var/run/tomcat.pid # config:# Source function library.
. /etc/rc.d/init.d/functions
# Source networking configuration.
. /etc/sysconfig/network
# Check that networking is up.
[ ${NETWORKING} = &amp;#34;no&amp;#34; ] &amp;amp;&amp;amp; exit 0# Set Tomcat environment.
export JAVA_HOME=/usr/java/jdk1.8.0_25
export CATALINA_HOME=/usr/local/tomcat7
export CATALINA_OPTS=&amp;#34;-Dbuild.compiler.emacs=true&amp;#34;
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$CATALINA_HOME/lib/servlet-api.jar
export PATH=$JAVA_HOME/bin:$PATH
[ -f /usr/local/tomcat7/bin/startup.sh ] || exit 0 [ -f /usr/local/tomcat7/bin/shutdown.sh ] || exit 0
export PATH=$PATH:/usr/bin:/usr/lib/bin
# See how we were called.
case &amp;#34;$1&amp;#34; in
        start)
                # Start daemon.
                echo -n &amp;#34;Starting Tomcat: &amp;#34;
                /usr/local/tomcat7/bin/startup.sh
                RETVAL=$?
                echo
                        [ $RETVAL = 0 ] &amp;amp;&amp;amp; touch /var/lock/subsys/tomcat ;;
        stop)
                # Stop daemons.
                echo -n &amp;#34;Shutting down Tomcat: &amp;#34;
                /usr/local/tomcat7/bin/shutdown.sh
                RETVAL=$?
                echo
                        [ $RETVAL = 0 ] &amp;amp;&amp;amp; rm -f /var/lock/subsys/tomcat ;;
        restart)
                $0 stop
                $0 start
        ;;
        condrestart)
                [ -e /var/lock/subsys/tomcat ] &amp;amp;&amp;amp; $0 restart ;;
        status)
               status tomcat
        ;;
        *)
                echo &amp;#34;Usage: $0 {start|stop|restart|status}&amp;#34;
        exit 1
esac
        exit 0
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;2修改執行權限&#34;&gt;2.修改執行權限&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;chmod 755 /etc/init.d/tomcat&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7 安裝Tomcat</title>
      <link>https://blog.ooopiz.com/post/2015/09/centos7-installing-tomcat/</link>
      <pubDate>Wed, 30 Sep 2015 06:10:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/centos7-installing-tomcat/</guid>
      <description>&lt;h2 id=&#34;1切換目錄到-usrlocal&#34;&gt;1.切換目錄到 /usr/local&lt;/h2&gt;
&lt;p&gt;我把我的tomcat放置在這裡，你也可以選擇在開心的目錄下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd /usr/local&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;2下載tomcat&#34;&gt;2.下載Tomcat&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;wget http://ftp.twaren.net/Unix/Web/apache/tomcat/tomcat-7/v7.0.57/bin/apache-tomcat-7.0.57.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;3解壓縮&#34;&gt;3.解壓縮&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;tar -zxvf apache-tomcat-7.0.57.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;4更改資料夾名稱&#34;&gt;4.更改資料夾名稱&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mv apache-tomcat-7.0.57 tomcat7&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;5啟動或停止tomcat&#34;&gt;5.啟動或停止Tomcat&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;啟動Tomcat 7&lt;br&gt;
&lt;code&gt;/usr/local/tomcat7/bin/startup.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;停止Tomcat 7&lt;br&gt;
&lt;code&gt;/usr/local/tomcat7/bin/shutdown.sh&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6防火牆設定&#34;&gt;6.防火牆設定&lt;/h2&gt;
&lt;p&gt;Tomcat 預設連接埠為 8080，所以必需開啟 8080 才可以連線&lt;/p&gt;
&lt;h2 id=&#34;7測試tomcat是否正常&#34;&gt;7.測試Tomcat是否正常&lt;/h2&gt;
&lt;p&gt;開啟瀏覽器，輸入【http://IP位址:8080】&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A06-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;若要測試範例網頁是否可以執行，輸入【http://IP:8080/examples/jsp/ 】，點選其中一個Execute即可以測試。&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A06-02.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7 安裝JDK 64 Bit</title>
      <link>https://blog.ooopiz.com/post/2015/09/centos7-install-jdk/</link>
      <pubDate>Wed, 30 Sep 2015 05:13:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/centos7-install-jdk/</guid>
      <description>&lt;h2 id=&#34;targz-安裝&#34;&gt;tar.gz 安裝&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;cd /opt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wget --no-cookies --no-check-certificate --header &amp;quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&amp;quot; &amp;quot;http://download.oracle.com/otn-pub/java/jdk/7u79-b15/jdk-7u79-linux-x64.tar.gz&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tar zxvf jdk-7u79-linux-x64.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;alternatives --install /usr/bin/jar jar /opt/jdk1.7.0_79/bin/jar 2
alternatives --install /usr/bin/javac javac /opt/jdk1.7.0_79/bin/javac 2
alternatives --set jar /opt/jdk1.7.0_79/bin/jar
alternatives --set javac /opt/jdk1.7.0_79/bin/javac 
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;rpm-安裝&#34;&gt;rpm 安裝&lt;/h2&gt;
&lt;h3 id=&#34;1下載jdk&#34;&gt;1.下載JDK&lt;/h3&gt;
&lt;p&gt;首先到&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.oracle.com/technetwork/java/javase/downloads/index.html%e5%9d%80&#34; target=&#34;_blank&#34; &gt;官方網址&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下載你需要的JDK版本&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A05-01.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2安裝rpm包&#34;&gt;2.安裝rpm包&lt;/h3&gt;
&lt;p&gt;會自動安裝到/usr/java下&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rpm -Uvh jdk-8u25-linux-x64.rpm&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;3alternatives管理jdk版本&#34;&gt;3.alternatives管理JDK版本&lt;/h3&gt;
&lt;p&gt;在Linux中可以同時存在許多個不同版本的JDK，方法是使用alternatives來進行管理&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;alternatives的指令格式如下:&lt;br&gt;
&lt;code&gt;alternatives –install &amp;lt;連結&amp;gt; &amp;lt;名稱&amp;gt; &amp;lt;路徑&amp;gt; &amp;lt;優先順序&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;alternatives --install /usr/bin/java java /usr/java/jdk1.8.0_25/bin/java 1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;使用alternatives檢查一下系統中的設定，因為只有一個直接按Enter即可，&lt;br&gt;
如果有兩個以上，可以選擇要使用的版本，+號即表示目前系統使用的版本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;alternatives --config java&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A05-02.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4檢查安裝是否正常&#34;&gt;4.檢查安裝是否正常&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;java -version&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>VirtualBox Guest Addtiton安裝 for Centos</title>
      <link>https://blog.ooopiz.com/post/2015/09/install-virtualbox-guest-addtiton-for-centos/</link>
      <pubDate>Wed, 09 Sep 2015 09:49:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/install-virtualbox-guest-addtiton-for-centos/</guid>
      <description>&lt;p&gt;我在 virtualbox上 面安裝的是 CentOS7 的 OS&lt;br&gt;
當你想 mount 本機的資料夾給虛擬機器使用的時候，你的 virtualbox 應該會提示你，&lt;br&gt;
你應該要安裝 &lt;strong&gt;VirtualBox Guest Addtiton&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;那就讓我們來開始安裝吧&lt;/p&gt;
&lt;h2 id=&#34;先把-vboxguestadditionsiso-mount-起來&#34;&gt;先把 VBoxGuestAdditions.iso mount 起來&lt;/h2&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A04-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mkdir /media/cdrom&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mount /dev/cdrom /media/cdrom&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A04-02.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;執行-vboxlinuxadditionsrun&#34;&gt;執行 VBoxLinuxAdditions.run&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sh /media/cdrom/VBoxLinuxAdditions.run&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;接著就可以-mount-本機分享給虛擬機的資料夾了&#34;&gt;接著就可以 mount 本機分享給虛擬機的資料夾了&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mkdir ~/new&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mount -t vboxsf New ~/new&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;或者你需要有特定owner的mount&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mount -t vboxsf -o uid=nginx,gid=nginx New ~/new&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;troubleshoot&#34;&gt;troubleshoot&lt;/h2&gt;
&lt;p&gt;在執行 VBoxLinuxAdditions.run 的時候你可能會遇到&lt;/p&gt;
&lt;h3 id=&#34;bzip2-command-not-found&#34;&gt;bzip2 command not found&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A04-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install bzip2 -y&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;building-the-main-guest-additions-module-失敗&#34;&gt;Building the main Guest Additions module [失敗]&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install kernel-devel kernel-headers dkms gcc gcc-c++ -y&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>VirtureBox網卡設定 - 讓虛擬機器可以連外同時本機可以連虛擬機器</title>
      <link>https://blog.ooopiz.com/post/2015/09/virturebox-outside-card-set-make-a-virtual-machine-can-be-connected-at-the-same-time-the-machine-can-be-connected-to-the-virtual-machine/</link>
      <pubDate>Wed, 09 Sep 2015 09:10:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/virturebox-outside-card-set-make-a-virtual-machine-can-be-connected-at-the-same-time-the-machine-can-be-connected-to-the-virtual-machine/</guid>
      <description>&lt;h2 id=&#34;說明&#34;&gt;說明&lt;/h2&gt;
&lt;p&gt;VirtualBox 透過 NAT 網卡來達到對外部的連線&lt;br&gt;
當你本機想要跟虛擬機器進行連線的時候，你可以建立一個區域網路來進行連線&lt;/p&gt;
&lt;p&gt;Windows 環境在你安裝 VirtualBox 的時候就幫你安裝了一個網路配接卡
Mac就必須自己手動新增一下&lt;/p&gt;
&lt;p&gt;VirtualBox -&amp;gt; 喜好設定&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A03-01.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;設定2張介面卡&#34;&gt;設定2張介面卡&lt;/h2&gt;
&lt;h3 id=&#34;1-nat&#34;&gt;1. NAT&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A03-02.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-僅限主機介面卡&#34;&gt;2. 僅限主機介面卡&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A03-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;VirtualBox 的 Host Only 網卡的預設網段是 192.168.56.0&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A03-04.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>yum 和 wget 使用 proxy</title>
      <link>https://blog.ooopiz.com/post/2015/09/wget-and-yum-with-proxy/</link>
      <pubDate>Wed, 02 Sep 2015 17:05:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/wget-and-yum-with-proxy/</guid>
      <description>&lt;h2 id=&#34;yum-設定檔&#34;&gt;yum 設定檔&lt;/h2&gt;
&lt;p&gt;在設定檔中加入以下參數 config /etc/yum.conf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The proxy server - proxy server:port number&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;http_proxy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;proxy.xxxxxx.com.tw:3128&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# The account details for yum connections&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;proxy_username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;user_name&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;proxy_password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;user_password&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;此設定參數可提供所有帳號使用&lt;br&gt;
若要針對特定帳號使用，可以將下列參數加入到 ~/.bash_profile&lt;br&gt;
(&lt;em&gt;有空再研究&lt;/em&gt;)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;wget&#34;&gt;wget&lt;/h2&gt;
&lt;p&gt;在設定檔中加入以下參數 config /etc/wgetrc&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;http_proxy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;proxy.xxxxxx.com.tw:3128&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;use_proxy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;on&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;wait&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;15&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 流量監控工具(iftop)</title>
      <link>https://blog.ooopiz.com/post/2015/09/centos-traffic-monitoring-tool-iftop/</link>
      <pubDate>Wed, 02 Sep 2015 16:56:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/centos-traffic-monitoring-tool-iftop/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://www.ex-parrot.com/~pdw/iftop/&#34; target=&#34;_blank&#34; &gt;官方網站&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;rpm -ivh http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
yum install iftop -y
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;or&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;wget http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm
rpm -ivh epel-release-6-8.noarch.rpm
yum install iftop -y
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;執行&#34;&gt;執行&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;iftop&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A02-01.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS7 基礎設定</title>
      <link>https://blog.ooopiz.com/post/2015/09/centos7-basic-set/</link>
      <pubDate>Tue, 01 Sep 2015 03:07:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/09/centos7-basic-set/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;一、啟用網卡，停用NetworkManger&lt;/li&gt;
&lt;li&gt;二、關閉SELinux&lt;/li&gt;
&lt;li&gt;三、關閉UseDNS&lt;/li&gt;
&lt;li&gt;四、調整時區&lt;/li&gt;
&lt;li&gt;五、調整語系&lt;/li&gt;
&lt;li&gt;六、修改Hostname&lt;/li&gt;
&lt;li&gt;七、同步時間&lt;/li&gt;
&lt;li&gt;八、停用firewalld，改用iptabless&lt;/li&gt;
&lt;li&gt;九、更新一下&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;一啟用網卡停用networkmanger&#34;&gt;一、啟用網卡，停用NetworkManger&lt;/h2&gt;
&lt;p&gt;先進到網卡的目錄底下，將你的網卡設定為啟動的狀態(ONBOOT=yes)&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd /etc/sysconfig/network-scripts&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;每台電腦的網卡名稱不一定相同&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl stop NetworkManager&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl disable NetworkManager&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl restart network&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-02.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二關閉selinux&#34;&gt;二、關閉SELinux&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;vi /etc/selinux/config&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;這個設定reboot後才會生效&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;三關閉usedns&#34;&gt;三、關閉UseDNS&lt;/h2&gt;
&lt;p&gt;登入SSH需要等很久的話，可以從這個設定獲得改善&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/ssh/sshd_config&lt;/code&gt; 將 UseDNS yes 改成 no&lt;/p&gt;
&lt;p&gt;&lt;code&gt;systemctl restart sshd&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;四調整時區&#34;&gt;四、調整時區&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;rm /etc/localtime&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ln -s /usr/share/zoneinfo/Asia/Taipei /etc/localtime&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;五調整語系&#34;&gt;五、調整語系&lt;/h2&gt;
&lt;p&gt;檢查系統目前使用的語系&lt;/p&gt;
&lt;p&gt;&lt;code&gt;localectl&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-04.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;查看系統有哪些可用的語系&lt;/p&gt;
&lt;p&gt;&lt;code&gt;localectl list-locales | grep zh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-05.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;如果你要設定語系的話&lt;/p&gt;
&lt;p&gt;&lt;code&gt;localectl set-locale LANG=zh_TW.utf8&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;六修改hostname&#34;&gt;六、修改Hostname&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;查看主機 hostname&lt;br&gt;
&lt;code&gt;hostnamectl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;設定 hostname&lt;br&gt;
&lt;code&gt;hostnamectl set-hostname new_hostname&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;七同步時間&#34;&gt;七、同步時間&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;安裝的packages
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;yum install ntp ntpdate ntp-doc&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;設定開機就啟動NTP Daemon
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;systemctl enable ntpd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;系統時間與time.stdtime.gov.tw的NTP server做校時
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ntpdate time.stdtime.gov.tw&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;啟動系統的NTP Daemon
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;systemctl start ntpd&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;設定要校時的NTP server
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;vi /etc/ntp.conf&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201509/A01-06.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS 使用rsync</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos-using-rsync/</link>
      <pubDate>Mon, 31 Aug 2015 13:06:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos-using-rsync/</guid>
      <description>&lt;h2 id=&#34;簡介&#34;&gt;簡介&lt;/h2&gt;
&lt;p&gt;rsync 是一種遠端複製的技術，透過 rsync 可以輕鬆的將機器上的檔案做鏡像備援到其他機器．&lt;/p&gt;
&lt;p&gt;首先先查詢一下，機器是否已經安裝．&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rpm -qa | grep rsync&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果沒有的話就 yum 一下吧&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;做 rsync 的時候 server 端與 client 端都必須要安裝&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install rsync&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;指令&#34;&gt;指令&lt;/h2&gt;
&lt;p&gt;rsync的指令非常的簡單&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;這個指令不會刪除目的端多餘的檔案&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rsync -avz /opt/data root@192.168.1.245:/opt/data-backup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rsync -avz root@192.168.1.245:/opt/data-backup /opt/data&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;這個指令則會完全的鏡像，如果目的端有來源端沒有的檔案，該檔案會被刪除&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;rsync -avz --delete /opt/data root@192.168.1.245:/opt/data-backup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rsync -avz --delete root@192.168.1.245:/opt/data-backup /opt/data&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;當你做 rsync 時，必須使用到 ssh port，所以你的防火牆 22 port 必須打開，&lt;br&gt;
另外會要求你輸入密碼，&lt;br&gt;
假設你要做自動的排程，就必須使用 ssh key 來達到不用密碼可以登入．&lt;/p&gt;</description>
    </item>
    <item>
      <title>重灌Mac</title>
      <link>https://blog.ooopiz.com/post/2015/08/reinstall-mac/</link>
      <pubDate>Sun, 30 Aug 2015 14:14:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/reinstall-mac/</guid>
      <description>&lt;p&gt;重開機時，按住 &lt;code&gt;command + R&lt;/code&gt; 會跳出如下面圖片的介面．&lt;br&gt;
就可以開始進行清理硬碟與重灌OS X的作業&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A05-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A05-02.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A05-03.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS 6.5 安裝MariaDB</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-installation-of-mariadb/</link>
      <pubDate>Mon, 24 Aug 2015 07:05:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-installation-of-mariadb/</guid>
      <description>&lt;h3 id=&#34;新增mariadb的知識庫讓系統使用&#34;&gt;新增MariaDB的知識庫，讓系統使用。&lt;/h3&gt;
&lt;p&gt;依照自己的系統在目錄下新增檔案&lt;/p&gt;
&lt;p&gt;config /etc/yum.repos.d/mariadb.repo&lt;/p&gt;
&lt;h3 id=&#34;32位元系統&#34;&gt;32位元系統&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[mariadb]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;MariaDB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;http://yum.mariadb.org/5.5/centos6-x86&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgkey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;https://yum.mariadb.org/RPM-GPG-KEY-MariaDB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;64位元系統&#34;&gt;64位元系統&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[mariadb]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;MariaDB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;http://yum.mariadb.org/5.5/centos6-amd64&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgkey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;https://yum.mariadb.org/RPM-GPG-KEY-MariaDB&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;更新套件庫&#34;&gt;更新套件庫&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;yum update -y&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;安裝-mariadb&#34;&gt;安裝 MariaDB&lt;/h2&gt;
&lt;p&gt;安裝好後啟動MariaDB，MariaDB叫做【mysql】跟MySQL的【mysqld】不一樣&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install MariaDB-devel MariaDB-client MariaDB-server -y&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service mysql start&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;chkconfig mysql on&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;初始化-mariadb&#34;&gt;初始化 MariaDB&lt;/h2&gt;
&lt;p&gt;執行這個初始化程式，過程跟MySQL一模一樣&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/usr/bin/mysql_secure_installation&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;第一個問題，Enter current password for root (enter for none):&lt;br&gt;
請直接按下Enter，因為預設MariaDB沒有密碼。&lt;/p&gt;
&lt;p&gt;第二個問題，Change the root password? [Y/n]&lt;br&gt;
是否更改root密碼，極度建議您設定root密碼，請輸入Y&lt;/p&gt;
&lt;p&gt;第三個問題，Remove anonymous users? [Y/n]&lt;br&gt;
是否移除匿名帳號，請務必移除匿名帳號，否則別人隨便就可以進入您的資料庫了&lt;/p&gt;
&lt;p&gt;第四個問題，Disallow root login remotely? [Y/n]&lt;br&gt;
是否移除遠端root登入權限，視需求設定&lt;/p&gt;
&lt;p&gt;第五個問題，Remove test database and access to it? [Y/n]&lt;br&gt;
是否移除測試資料庫跟使用者，留著也沒用！移除請輸入Y&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 安裝Nginx</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-install-nginx/</link>
      <pubDate>Mon, 24 Aug 2015 07:01:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-install-nginx/</guid>
      <description>&lt;h2 id=&#34;新增-nginx-官方所提供的第三方套件庫&#34;&gt;新增 Nginx 官方所提供的第三方套件庫&lt;/h2&gt;
&lt;p&gt;新增一個檔案 &lt;code&gt;/etc/yum.repos.d/nginx.repo&lt;/code&gt; 內容如下&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;[nginx]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;nginx repo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;baseurl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;http://nginx.org/packages/centos/$releasever/$basearch/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;gpgcheck&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;更新套件庫&#34;&gt;更新套件庫&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;yum update -y&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;安裝-nginx&#34;&gt;安裝 Nginx&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;yum install nginx&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;執行-nginx&#34;&gt;執行 Nginx&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;service nginx start&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;開機時自動啟動&#34;&gt;開機時自動啟動&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;sudo chkconfig --levels 235 nginx on&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Laravel 刪除套件</title>
      <link>https://blog.ooopiz.com/post/2015/08/laravel-delete-kit/</link>
      <pubDate>Mon, 24 Aug 2015 05:04:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/laravel-delete-kit/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;Remove declaration from composer.json (in &amp;ldquo;require&amp;rdquo; section)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Remove Service Provider from &amp;ldquo;app/config/app.php&amp;rdquo; (reference in &amp;ldquo;providers&amp;rdquo; array)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Remove any Class Aliases from &amp;ldquo;app/config/app.php&amp;rdquo;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Remove any references to the package from your code :-)&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Run &amp;ldquo;composer update&amp;rdquo;&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Manually delete the published files&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Android 程式流程</title>
      <link>https://blog.ooopiz.com/post/2015/08/android-program-flow/</link>
      <pubDate>Mon, 24 Aug 2015 04:50:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/android-program-flow/</guid>
      <description>&lt;p&gt;了解一個程式的流程是十分重要的一件事&lt;br&gt;
以下記載著一個 Android APP 的出生到死亡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onCreate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(...)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;openGarageDoor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlockCarAndGetIn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;closeCarDoorAndPutOnSeatBelt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;putKeyInIgnition&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onStart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;startEngine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;changeRadioStation&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;switchOnLightsIfNeeded&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;switchOnWipersIfNeeded&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onResume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;applyFootbrake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;releaseHandbrake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;putCarInGear&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;drive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onPause&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;putCarInNeutral&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;applyHandbrake&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onStop&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;switchEveryThingOff&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;turnOffEngine&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;removeSeatBeltAndGetOutOfCar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lockCar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onDestroy&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;enterOfficeBuilding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onReachedGroceryStore&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(...)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Intent&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Intent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ACTION_GET_GROCERIES&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;...,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GroceryStoreActivity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;onRestart&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlockCarAndGetIn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;closeDoorAndPutOnSeatBelt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;putKeyInIgnition&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>一台電腦兩個Git帳號使用SSH Key</title>
      <link>https://blog.ooopiz.com/post/2015/08/two-git-a-computer-account-using-ssh-key/</link>
      <pubDate>Mon, 24 Aug 2015 03:05:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/two-git-a-computer-account-using-ssh-key/</guid>
      <description>&lt;h2 id=&#34;在設定檔中加入設定檔&#34;&gt;在設定檔中加入設定檔&lt;/h2&gt;
&lt;p&gt;Windows下的路徑C:\Users\Ricky.ssh&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Host ricky.org
  Hostname ricky.org
  Port 29418
  User rickyhuang
  IdentityFile C:\Users\Ricky\.ssh\id_rsa
Host peter.org
  Hostname peter.org
  Port 65095
  User peter
  IdentityFile C:\Users\Ricky\.ssh\id_rsa_second
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;pull 的時候是識別郵箱，所以不能使用 global 的 user.email&lt;/p&gt;
&lt;h3 id=&#34;取消-global&#34;&gt;取消 global&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git config --global --unset user.name&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git config --global --unset user.email&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;設定每個項目repo自己的-useremail&#34;&gt;設定每個項目repo自己的 user.email&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;git config  user.email &amp;quot;xxxx@xx.com&amp;quot;&lt;/code&gt;
&lt;code&gt;git config  user.name &amp;quot;ricky&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;woindows-下要生成-key-可以使用-git-bash-裡面有內建的-ssh-command&#34;&gt;Woindows 下要生成 key 可以使用 git bash 裡面有內建的 ssh command&lt;/h3&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A02-01.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;再輸入，即可生成ssh key
&lt;code&gt;ssh-keygen -t rsa&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 安裝phpMyAdmin</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-install-phpmyadmin/</link>
      <pubDate>Mon, 24 Aug 2015 02:00:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-install-phpmyadmin/</guid>
      <description>&lt;h2 id=&#34;一安裝phpmyadmin&#34;&gt;一、安裝phpMyAdmin&lt;/h2&gt;
&lt;p&gt;phpMyAdmin 對應 php 版本會有影響，請挑選適合的版本&lt;/p&gt;
&lt;p&gt;&lt;code&gt;wget http://sourceforge.net/projects/phpmyadmin/files/phpMyAdmin/4.1.12/phpMyAdmin-4.1.12-all-languages.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;tar -zxvf phpMyAdmin-4.1.12-all-languages.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mv phpMyAdmin-4.1.12-all-languages /usr/share/nginx/html/phpMyAdmin&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rm phpMyAdmin-4.1.12-all-languages.tar.gz&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;二設定configincphp&#34;&gt;二、設定config.inc.php&lt;/h2&gt;
&lt;p&gt;路徑:/usr/share/nginx/html/phpMyAdmin&lt;br&gt;
複製範本設定檔 config.sample.inc.php 並重新命名為 config.inc.php&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cp config.sample.inc.php config.inc.php&lt;/code&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; /* Authentication type */
$cfg[&amp;#39;Servers&amp;#39;][$i][&amp;#39;auth_type&amp;#39;] = &amp;#39;cookies&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;改成&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;/* Authentication type */
$cfg[&amp;#39;Servers&amp;#39;][$i][&amp;#39;auth_type&amp;#39;] = &amp;#39;http&amp;#39;;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A01-01.png&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三查看mysql使用者新增使用者給予權限&#34;&gt;三、查看mysql使用者,新增使用者,給予權限&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;mysql -u root -p -h 127.0.0.1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql&amp;gt; select user, host from mysql.user;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A01-02.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql&amp;gt; create user &#39;admin&#39;@&#39;%&#39; identified by &#39;admin&#39;;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/A01-03.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;mysql&amp;gt; grant all on *.* to &#39;admin&#39;@&#39;%&#39;;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;這樣 admin 對整個資料庫的所有資料表都擁有全部的權利&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 安裝LNMP</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-installation-lnmp/</link>
      <pubDate>Mon, 24 Aug 2015 01:08:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-installation-lnmp/</guid>
      <description>&lt;h2 id=&#34;一更新rpm&#34;&gt;一、更新rpm&lt;/h2&gt;
&lt;h3 id=&#34;mysql源&#34;&gt;MYSQL源&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CentOS 6&lt;br&gt;
&lt;code&gt;yum install http://repo.mysql.com/mysql-community-release-el6-5.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;CentOS 7&lt;br&gt;
&lt;code&gt;yum install http://dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;nginx源&#34;&gt;NGINX源&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;CentOS 6&lt;br&gt;
&lt;code&gt;yum install http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos-6-0.el6.ngx.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;CentOS 7&lt;br&gt;
&lt;code&gt;yum install http://nginx.org/packages/centos/7/noarch/RPMS/nginx-release-centos-7-0.el7.ngx.noarch.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;remi源&#34;&gt;REMI源&lt;/h3&gt;
&lt;p&gt;最新的PHP版本需要修改REMI.REPO中的ENABLED=0为1）# vi /etc/yum.repos.d/remi.repo&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CentOS 6&lt;br&gt;
&lt;code&gt;yum install http://rpms.famillecollet.com/enterprise/remi-release-6.rpm&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;CentOS 7&lt;br&gt;
&lt;code&gt;yum install http://rpms.famillecollet.com/enterprise/remi-release-7.rpm&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;二安裝nginx&#34;&gt;二、安裝Nginx&lt;/h2&gt;
&lt;p&gt;安裝 NGINX 網頁伺服器&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install nginx&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;三安裝php&#34;&gt;三、安裝PHP&lt;/h2&gt;
&lt;p&gt;想 install 其它版本的 PHP 需要修改 REMI.REPO 中的 ENABLED=0 為 1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;路徑：/etc/yum.repos.d/remi.repo
&lt;ul&gt;
&lt;li&gt;[remi-php55]是PHP5.5&lt;/li&gt;
&lt;li&gt;[remi-php56]是PHP5.6&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;選擇你要的版本做修改即可&lt;/p&gt;
&lt;p&gt;&lt;code&gt;vi /etc/yum.repos.d/remi.repo&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/002.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;安裝-php&#34;&gt;安裝 PHP&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install php&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;安裝其他php-lib&#34;&gt;安裝其他PHP Lib&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;yum install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt libmcrypt-devel php-fpm&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS 6.5 防火牆設定iptables</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-packet-filtering-firewall-iptables/</link>
      <pubDate>Fri, 21 Aug 2015 10:05:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-packet-filtering-firewall-iptables/</guid>
      <description>&lt;p&gt;CentOS一般預設開啟的只有SSH的Port 22，如果有其他的需求就必須手動設定防火牆。
比較常用的Port..&lt;/p&gt;
&lt;h2 id=&#34;常見的預設-port-號&#34;&gt;常見的預設 port 號&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Service&lt;/th&gt;
          &lt;th&gt;Port&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;FTP&lt;/td&gt;
          &lt;td&gt;21&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;SSH&lt;/td&gt;
          &lt;td&gt;22&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;HTTP&lt;/td&gt;
          &lt;td&gt;80&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;HTTPS&lt;/td&gt;
          &lt;td&gt;443&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;MYSQL&lt;/td&gt;
          &lt;td&gt;3306&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;將對應的資訊加入iptables設定檔中&#34;&gt;將對應的資訊加入iptables設定檔中&lt;/h2&gt;
&lt;p&gt;/etc/sysconfig/iptables&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;-A INPUT -m state --state NEW -m tcp -p tcp --dport 21 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img loading=&#34;lazy&#34; src=&#34;https://fblog.ooopiz.com/images/201508/001.png&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS6.5 網卡基本設定</title>
      <link>https://blog.ooopiz.com/post/2015/08/centos65-network-card-settings/</link>
      <pubDate>Fri, 21 Aug 2015 09:29:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/08/centos65-network-card-settings/</guid>
      <description>&lt;h2 id=&#34;首先可以下指令顯示出所有的介面資訊&#34;&gt;首先可以下指令顯示出所有的介面資訊&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ip link show&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;網卡設定檔&#34;&gt;網卡設定檔&lt;/h2&gt;
&lt;p&gt;網卡設定檔的目錄一般會在/etc/sysconfig/network-scripts/ifcfg-eth0&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-ini&#34; data-lang=&#34;ini&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;DEVICE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;eth0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;BOOTPROTO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;static&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;BROADCAST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;192.168.1.255&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;IPADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;192.168.1.2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;NETMASK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;255.255.255.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;NETWORK&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;192.168.1.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;na&#34;&gt;ONBOOT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;yes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;說明&#34;&gt;說明&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;DEVICE 這個裝置的名稱&lt;/li&gt;
&lt;li&gt;BOOTPROTO 使用我們給的網路名稱（若為浮動 IP 則為 dhcp ）&lt;/li&gt;
&lt;li&gt;BROADCAST 這是節點的網域&lt;/li&gt;
&lt;li&gt;IPADDR 這是這塊網路卡的位址&lt;/li&gt;
&lt;li&gt;NETMASL 子遮罩網路&lt;/li&gt;
&lt;li&gt;NETWORK 工作的網域&lt;/li&gt;
&lt;li&gt;ONBOOT 開機自動開啟網路卡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在上面的例子中，我們以虛擬 IP 來作為示範，&lt;br&gt;
假定這部機器的 IP 為 192.168.1.2 ，則 BROADCAST 就是 192.168.1.255 （xxx.xxx.xxx.255），&lt;br&gt;
NETMASK 通常是 255.255.255.0 （與你的 IP class 有關，不過，通常我們就設成 255.255.255.0 也就是了），&lt;br&gt;
NETWORK 就設為 192.168.1.0 (xxx.xxx.xxx.0）。&lt;br&gt;
如果你的網路位址是固定的，那上面的網址就跟著改變即可！&lt;br&gt;
設定玩之後，網路服務重新啓動，指令為：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;service network restart&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CentOS crontab</title>
      <link>https://blog.ooopiz.com/post/2015/07/centos-crontab/</link>
      <pubDate>Mon, 27 Jul 2015 01:35:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/07/centos-crontab/</guid>
      <description>&lt;h2 id=&#34;example&#34;&gt;Example&lt;/h2&gt;
&lt;p&gt;輸入 &lt;code&gt;crontab -e&lt;/code&gt; 進入排程編輯&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name command to be executed
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;instruction&#34;&gt;Instruction&lt;/h2&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;特殊字符&lt;/th&gt;
          &lt;th&gt;代表意義&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;*(星號)&lt;/td&gt;
          &lt;td&gt;代表任何時刻都接受的意思！舉例來說，範例一內那個日、月、週都是 &lt;code&gt;*&lt;/code&gt;，就代表著『不論何月、何日的禮拜幾的 12:00 都執行後續指令』的意思！&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;,(逗號)&lt;/td&gt;
          &lt;td&gt;代表分隔時段的意思。舉例來說，如果要下達的工作是 3:00 與 6:00 時，就會是： &lt;code&gt;0 3,6 * * * command&lt;/code&gt; 時間參數還是有五欄，不過第二欄是 3,6 ，代表 3 與 6 都適用！&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;-(減號)&lt;/td&gt;
          &lt;td&gt;代表一段時間範圍內，舉例來說， 8 點到 12 點之間的每小時的 20 分都進行一項工作： &lt;code&gt;20 8-12 * * * command&lt;/code&gt; 仔細看到第二欄變成 8-12 喔！代表 8,9,10,11,12 都適用的意思！&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;/n(斜線)&lt;/td&gt;
          &lt;td&gt;那個 n 代表數字，亦即是『每隔 n 單位間隔』的意思，例如每五分鐘進行一次，則：&lt;code&gt;*/5 * * * * command&lt;/code&gt; 很簡單吧！用 * 與 /5 來搭配，也可以寫成 0-59/5 ，相同意思！&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;crontab 產生的訊息會存放在 &lt;code&gt;/var/spool/mail/root&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Laravel5.0 升級5.1</title>
      <link>https://blog.ooopiz.com/post/2015/07/laravel50-upgrade-51/</link>
      <pubDate>Sat, 25 Jul 2015 12:22:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/07/laravel50-upgrade-51/</guid>
      <description>&lt;h2 id=&#34;1-修改composerjson&#34;&gt;1. 修改composer.json&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;&amp;quot;laravel/framework&amp;quot;: &amp;quot;5.0.*&amp;quot;&lt;/code&gt; 修改為 &lt;code&gt;&amp;quot;laravel/framework&amp;quot;: &amp;quot;5.1.*&amp;quot;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-在bootstrap目錄下建立一個目錄cache並新增一個文件gitignore內容為&#34;&gt;2. 在bootstrap目錄下建立一個目錄cache，並新增一個文件.gitignore，內容為:&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;*
!.gitignore
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;3-修改bootstrap下的autoloadphp&#34;&gt;3. 修改bootstrap下的autoload.php&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;$compiledPath = __DIR__.&#39;/../vendor/compiled.php&#39;;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;修改為&lt;/p&gt;
&lt;p&gt;&lt;code&gt;$compiledPath = __DIR__.&#39;/cache/compiled.php&#39;;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-執行-composer-update&#34;&gt;4. 執行 composer update&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;composer update&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;5-確認目錄權限&#34;&gt;5. 確認目錄權限&lt;/h2&gt;
&lt;p&gt;安裝 Laravel 之後，你必須設定一些權限。&lt;br&gt;
&lt;code&gt;storage&lt;/code&gt; 和 &lt;code&gt;bootstrap/cache&lt;/code&gt; 目錄必須讓伺服器有寫入權限。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Laravel5.0 關閉CSRF全局驗證</title>
      <link>https://blog.ooopiz.com/post/2015/07/laravel5-0-close-the-crsf-global-validation/</link>
      <pubDate>Sat, 25 Jul 2015 08:13:01 +0800</pubDate>
      <guid>https://blog.ooopiz.com/post/2015/07/laravel5-0-close-the-crsf-global-validation/</guid>
      <description>&lt;p&gt;修改Kernel.php
將global middleware的 &lt;code&gt;&#39;App\Http\Middleware\VerifyCsrfToken&#39;&lt;/code&gt;
移動到route middleware &lt;code&gt;&#39;csrf&#39; =&amp;gt; &#39;App\Http\Middleware\VerifyCsrfToken&#39;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Kernel&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;HttpKernel&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;sd&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     * The application&amp;#39;s global HTTP middleware stack.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     * @var array
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$middleware&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\Foundation\Http\Middleware\CheckForMaintenanceMode&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\Cookie\Middleware\EncryptCookies&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\Cookie\Middleware\AddQueuedCookiesToResponse&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\Session\Middleware\StartSession&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\View\Middleware\ShareErrorsFromSession&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;sd&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     * The application&amp;#39;s route middleware.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     * @var array
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sd&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$routeMiddleware&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;auth&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;App\Http\Middleware\Authenticate&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;auth.basic&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Illuminate\Auth\Middleware\AuthenticateWithBasicAuth&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;guest&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;App\Http\Middleware\RedirectIfAuthenticated&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;s1&#34;&gt;&amp;#39;csrf&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;App\Http\Middleware\VerifyCsrfToken&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;此種作法將會取消全局的驗證，如果要加上驗證機制必須在該route的地方
加上 &lt;code&gt;&#39;middleware&#39; =&amp;gt; &#39;csrf&#39;&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$router&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;middleware&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;csrf&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$router&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// Protected routes
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
  </channel>
</rss>
